(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7998],{58823:function(e,t,r){Promise.resolve().then(r.bind(r,80191))},96273:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(78030).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},91773:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(78030).Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},80191:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return V}});var n=r(57437),a=r(2265),l=r(93363),i=r(2128),o=r(13027),s=r(3274),d=r(74697),c=r(1282),u=r(22468),p=r(49354),h=r(89733),m=r(34063),f=r(21413),x=r(79055);let v=(0,o.j)("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),j=a.forwardRef((e,t)=>{let{options:r,onValueChange:l,variant:i,defaultValue:o,placeholder:j="Select options",maxCount:g=3,isLoading:b=!1,selected:y,onChange:w,...N}=e,[C,I]=a.useState(o||[]),[k,A]=a.useState(!1);a.useEffect(()=>{y&&I(y)},[y]);let P=e=>{let t=[...C,e];I(t),w&&w(t)},Z=e=>{let t=C.filter(t=>t!==e);I(t),w&&w(t)};return(0,n.jsxs)(f.J2,{open:k,onOpenChange:A,children:[(0,n.jsx)(f.xo,{asChild:!0,children:(0,n.jsx)(h.z,{ref:t,...N,onClick:()=>A(!k),className:"flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-card",disabled:b,children:b?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,n.jsx)(s.Z,{className:"h-4 w-4 animate-spin"}),(0,n.jsx)("span",{children:"Loading..."})]}):C.length>0?(0,n.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,n.jsx)("div",{className:"flex flex-wrap items-center",children:C.map(e=>{let t=r.find(t=>t.value===e);return(0,n.jsxs)(x.C,{className:(0,p.cn)(v({variant:i})),children:[null==t?void 0:t.label,(0,n.jsx)("span",{className:"ml-2 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 cursor-pointer",onKeyDown:t=>{"Enter"===t.key&&Z(e)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>Z(e),children:(0,n.jsx)(d.Z,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},e)})}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(d.Z,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{I([]),w&&w([]),e.stopPropagation()}}),(0,n.jsx)("div",{className:"h-full mx-2 border-l"}),(0,n.jsx)(c.Z,{className:"h-4 cursor-pointer text-muted-foreground"})]})]}):(0,n.jsxs)("div",{className:"flex items-center justify-between w-full mx-auto",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground mx-3",children:j}),(0,n.jsx)(c.Z,{className:"h-4 mr-2 cursor-pointer text-muted-foreground"})]})})}),(0,n.jsx)(f.yk,{className:"w-full p-0",children:(0,n.jsxs)(m.mY,{children:[(0,n.jsx)(m.sZ,{placeholder:"Search..."}),(0,n.jsxs)(m.e8,{children:[(0,n.jsx)(m.rb,{children:"No results found."}),(0,n.jsx)(m.fu,{children:r.map(e=>{let t=C.includes(e.value);return(0,n.jsxs)(m.di,{onSelect:()=>{t?Z(e.value):P(e.value)},children:[(0,n.jsx)(u.Z,{className:(0,p.cn)("mr-2 h-4 w-4",t?"opacity-100":"opacity-0")}),e.icon&&(0,n.jsx)(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)("span",{children:e.label})]},e.value)})})]})]})})]})});j.displayName="MultiSelect";var g=r(96273),b=r(77209);function y(e){let{form:t,locationState:r,isMultiFloorAllowed:a,onQuickCreate:o}=e,{companies:d,selectedCompany:c,setSelectedCompany:u,filteredProjects:p,selectedProject:m,setSelectedProject:f,filteredBuildings:x,selectedBuilding:v,setSelectedBuilding:y,floors:w,isLoadingFloors:N}=r,C=(e,t,r,a,s,d,c)=>(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:e}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(i.Ph,{onValueChange:r,value:t,disabled:d,children:[(0,n.jsx)(i.i4,{children:(0,n.jsx)(i.ki,{placeholder:s})}),(0,n.jsx)(i.Bw,{children:a.map(e=>(0,n.jsx)(i.Ql,{value:e.id,children:e.name||e.title||e.address||e.level},e.id))})]}),(0,n.jsx)(h.z,{type:"button",variant:"outline",size:"icon",onClick:()=>o(c),disabled:"company"!==c&&d,children:(0,n.jsx)(g.Z,{className:"h-4 w-4"})})]})]});return(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[C("Εταιρεία",c,u,d,"Επιλέξτε Εταιρεία...",!1,"company"),C("Έργο",m,f,p,"Επιλέξτε Έργο...",!c,"project"),C("Κτίριο",v,y,x,"Επιλέξτε Κτίριο...",!m,"building"),(0,n.jsx)(l.Wi,{control:t.control,name:"type",render:e=>{let{field:t}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Τύπος"}),(0,n.jsxs)(i.Ph,{onValueChange:t.onChange,value:t.value,disabled:!v,children:[(0,n.jsx)(l.NI,{children:(0,n.jsx)(i.i4,{children:(0,n.jsx)(i.ki,{placeholder:"Επιλέξτε τύπο..."})})}),(0,n.jsxs)(i.Bw,{children:[(0,n.jsx)(i.Ql,{value:"Διαμέρισμα",children:"Διαμέρισμα"}),(0,n.jsx)(i.Ql,{value:"Στούντιο",children:"Στούντιο"}),(0,n.jsx)(i.Ql,{value:"Γκαρσονιέρα",children:"Γκαρσονιέρα"}),(0,n.jsx)(i.Ql,{value:"Μεζονέτα",children:"Μεζονέτα"}),(0,n.jsx)(i.Ql,{value:"Κατάστημα",children:"Κατάστημα"}),(0,n.jsx)(i.Ql,{value:"Other",children:"Άλλο"})]})]}),(0,n.jsx)(l.zG,{})]})}}),(0,n.jsx)(l.Wi,{control:t.control,name:"floorIds",render:e=>{var r;let{field:d}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Όροφος/οι"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,n.jsx)(j,{options:w,selected:d.value,onChange:d.onChange,placeholder:"Επιλέξτε ορόφους...",disabled:!t.getValues("type")||0===w.length,isLoading:N,className:"flex-1"}):(0,n.jsxs)(i.Ph,{onValueChange:e=>d.onChange(e?[e]:[]),value:(null===(r=d.value)||void 0===r?void 0:r[0])||"",disabled:!t.getValues("type")||0===w.length,children:[(0,n.jsx)(l.NI,{children:(0,n.jsx)(i.i4,{className:"flex-1",children:(0,n.jsx)(i.ki,{placeholder:"Επιλέξτε όροφο..."})})}),(0,n.jsx)(i.Bw,{children:N?(0,n.jsx)("div",{className:"flex items-center justify-center p-2",children:(0,n.jsx)(s.Z,{className:"h-4 w-4 animate-spin"})}):w.map(e=>(0,n.jsx)(i.Ql,{value:e.value,children:e.label},e.value))})]}),(0,n.jsx)(h.z,{type:"button",variant:"outline",size:"icon",onClick:()=>o("floor"),disabled:!v,children:(0,n.jsx)(g.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)(l.zG,{})]})}}),(0,n.jsx)(l.Wi,{control:t.control,name:"levelSpan",render:e=>{let{field:t}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Πλήθος επιλεγμένων ορόφων"}),(0,n.jsx)(l.NI,{children:(0,n.jsx)(b.I,{type:"number",readOnly:!0,...t,className:"bg-muted"})}),(0,n.jsx)(l.zG,{})]})}})]})}var w=r(69842),N=r(89506),C=r(10371),I=r(39343),k=r(31014),A=r(16352),P=r(72372),Z=r(71334),E=r(48185),_=r(16463),O=r(95137),S=r(59061),F=r(91773),R=r(86763),M=r(29973),D=r(87786),J=r(31721),z=r(18473);function V(){let{companies:e}=(0,C.JE)(),{projects:t}=(0,C.Z0)(),{buildings:r}=(0,C.l$)(),i=(0,_.useRouter)(),{toast:o}=(0,R.pm)(),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),{user:m}=(0,D.a)(),f=(0,I.cI)({resolver:(0,k.F)(A.d5),defaultValues:{floorIds:[],identifier:"",name:"",type:"",status:"Διαθέσιμο",amenities:[],levelSpan:0}}),x=function(e,t){let{companies:r,projects:n,buildings:l}=e,[i,o]=(0,a.useState)(!1),[s,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(t.getValues("buildingId")||"");(0,a.useEffect)(()=>{c&&(t.setValue("projectId",""),h(""))},[c]),(0,a.useEffect)(()=>{p&&(t.setValue("buildingId",""),f(""))},[p]),(0,a.useEffect)(()=>{t.setValue("floorIds",[]),(async()=>{if(!m){d([]);return}o(!0);try{let e=(0,w.IO)((0,w.hJ)(N.db,"floors"),(0,w.ar)("buildingId","==",m)),t=(await (0,w.PL)(e)).docs.map(e=>({value:e.id,label:e.data().level})).sort((e,t)=>e.label.localeCompare(t.label,void 0,{numeric:!0}));d(t)}catch(e){console.error("Failed to fetch floors for building:",e),d([])}finally{o(!1)}})()},[m]);let x=t.watch("floorIds");(0,a.useEffect)(()=>{let e=Array.isArray(x)?x.length:0;t.setValue("levelSpan",e)},[x,t]);let v=(0,a.useMemo)(()=>n.filter(e=>e.companyId===c),[n,c]),j=(0,a.useMemo)(()=>l.filter(e=>e.projectId===p),[l,p]);return{companies:r,selectedCompany:c,setSelectedCompany:u,filteredProjects:v,selectedProject:p,setSelectedProject:h,filteredBuildings:j,selectedBuilding:m,setSelectedBuilding:f,floors:(0,a.useMemo)(()=>s.map(e=>({value:e.value,label:e.label})),[s]),isLoadingFloors:i}}({companies:e,projects:t,buildings:r},f),v=A.o4.includes(f.watch("type")),j=f.watch("type"),g=f.watch("floorIds"),V=async()=>{if(!g||0===g.length){o({variant:"destructive",title:"Σφάλμα",description:"Παρακαλώ επιλέξτε τουλάχιστον έναν όροφο."});return}if(!j){o({variant:"destructive",title:"Σφάλμα",description:"Παρακαλώ επιλέξτε τύπο ακινήτου."});return}p(!0);try{let e=await (0,J.gX)(g[0],j,g.length);f.setValue("identifier",e,{shouldDirty:!0}),f.setValue("name",e,{shouldDirty:!0}),o({title:"Επιτυχία",description:"Προτεινόμενος κωδικός: ".concat(e)})}catch(e){o({variant:"destructive",title:"Σφάλμα",description:e.message})}finally{p(!1)}},T=async e=>{var n,a;c(!0);let l=(0,A.u5)(e),{selectedBuilding:s,selectedProject:d}=x;if(!s||!d||!m){o({variant:"destructive",title:"Σφάλμα",description:"Λείπουν βασικές πληροφορίες (Κτίριο, Έργο, Χρήστης)."}),c(!1);return}let u=r.find(e=>e.id===s);if(!u||!u.originalId){o({variant:"destructive",title:"Σφάλμα",description:"Δεν βρέθηκαν οι πληροφορίες του κτιρίου."}),c(!1);return}l.buildingId=s,l.projectId=d,l.companyId=null===(n=t.find(e=>e.id===d))||void 0===n?void 0:n.companyId,l.createdAt=(0,w.Bt)();try{let t=(0,w.qs)(N.db),r=(0,w.JU)((0,w.hJ)(N.db,"units")),n=await Promise.all(e.floorIds.map(async e=>(await (0,w.QT)((0,w.JU)(N.db,"floors",e))).data()));if(n.length>0&&(null===(a=n[0])||void 0===a?void 0:a.originalId)){let e=n[0].originalId,a=(0,w.JU)((0,w.hJ)(N.db,"projects",d,"buildings",u.originalId,"floors",e,"units"));t.set(a,{...l,topLevelId:r.id}),t.set(r,{...l,originalId:a.id})}else t.set(r,{...l,originalId:r.id});await t.commit(),await (0,z.a)("CREATE_UNIT",{entityId:r.id,entityType:"unit",name:l.name,projectId:d}),o({title:"Επιτυχία",description:'Το ακίνητο "'.concat(l.name,'" δημιουργήθηκε.')}),i.push("/units/".concat(r.id))}catch(e){console.error("Error creating unit:",e),o({variant:"destructive",title:"Σφάλμα",description:"Η δημιουργία απέτυχε: ".concat(e.message)})}finally{c(!1)}};return(0,n.jsx)(l.l0,{...f,children:(0,n.jsxs)("form",{onSubmit:f.handleSubmit(T),className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(h.z,{type:"button",variant:"outline",size:"sm",onClick:()=>i.back(),children:[(0,n.jsx)(O.Z,{className:"mr-2 h-4 w-4"}),"Πίσω στα Ακίνητα"]}),(0,n.jsxs)(h.z,{type:"submit",disabled:d,children:[d?(0,n.jsx)(s.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,n.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Αποθήκευση"]})]}),(0,n.jsxs)(E.Zb,{children:[(0,n.jsxs)(E.Ol,{children:[(0,n.jsx)(E.ll,{children:"Δημιουργία Νέου Ακινήτου"}),(0,n.jsx)(E.SZ,{children:"Συμπληρώστε τα παρακάτω πεδία για να δημιουργήσετε ένα νέο ακίνητο."})]}),(0,n.jsxs)(E.aY,{children:[(0,n.jsx)(y,{form:f,locationState:x,isMultiFloorAllowed:v,onQuickCreate:e=>{o({title:"Σημείωση",description:'Η δημιουργία νέου "'.concat(e,'" δεν υποστηρίζεται από αυτή τη φόρμα.')})}}),(0,n.jsx)(M.Z,{className:"my-6"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsx)(l.Wi,{control:f.control,name:"identifier",render:e=>{let{field:t}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Κωδικός Ακινήτου"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.NI,{children:(0,n.jsx)(b.I,{...t})}),(0,n.jsx)(h.z,{type:"button",variant:"outline",size:"icon",onClick:V,disabled:u,children:(0,n.jsx)(F.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)(l.zG,{})]})}}),(0,n.jsx)(l.Wi,{control:f.control,name:"name",render:e=>{let{field:t}=e;return(0,n.jsxs)(l.xJ,{children:[(0,n.jsx)(l.lX,{children:"Όνομα/Αναγνωριστικό"}),(0,n.jsx)(l.NI,{children:(0,n.jsx)(b.I,{...t})}),(0,n.jsx)(l.zG,{})]})}})]}),(0,n.jsx)(M.Z,{className:"my-6"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Ανάλυση Εμβαδού (τ.μ.)"}),(0,n.jsx)(P.q,{control:f.control})]}),(0,n.jsx)(M.Z,{className:"my-6"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Παροχές"}),(0,n.jsx)(Z.k,{control:f.control})]})]})]})]})})}},71334:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(57437),a=r(44541),l=r(93363),i=r(16352);function o(e){let{control:t}=e;return(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-2",children:i.dn.map(e=>(0,n.jsx)(l.Wi,{control:t,name:"amenities",render:t=>{var r;let{field:i}=t;return(0,n.jsxs)(l.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,n.jsx)(l.NI,{children:(0,n.jsx)(a.X,{checked:null===(r=i.value)||void 0===r?void 0:r.includes(e.id),onCheckedChange:t=>t?i.onChange([...i.value||[],e.id]):i.onChange((i.value||[]).filter(t=>t!==e.id))})}),(0,n.jsx)(l.lX,{className:"font-normal",children:e.label})]})}},e.id))})}},72372:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(57437),a=r(93363),l=r(77209);let i=[{name:"netArea",label:"Καθαρά"},{name:"grossArea",label:"Μικτά"},{name:"commonArea",label:"Κοινόχρηστα"},{name:"semiOutdoorArea",label:"Ημιυπαίθριοι"},{name:"architecturalProjectionsArea",label:"Αρχ. Προεξοχές"},{name:"balconiesArea",label:"Μπαλκόνια"}];function o(e){let{control:t}=e;return(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map(e=>(0,n.jsx)(a.Wi,{control:t,name:e.name,render:t=>{let{field:r}=t;return(0,n.jsxs)(a.xJ,{children:[(0,n.jsx)(a.lX,{children:e.label}),(0,n.jsx)(a.NI,{children:(0,n.jsx)(l.I,{type:"number",...r})}),(0,n.jsx)(a.zG,{})]})}},e.name))})}},10371:function(e,t,r){"use strict";r.d(t,{FW:function(){return c},JE:function(){return p},Z0:function(){return h},dI:function(){return f},l$:function(){return m}});var n=r(57437),a=r(2265),l=r(69842),i=r(89506),o=r(18473),s=r(65118);let d=(0,a.createContext)(void 0);function c(e){let{children:t}=e,r=(0,a.useCallback)(async e=>{try{let t=await (0,l.ET)((0,l.hJ)(i.db,"companies"),{...e,createdAt:(0,l.Bt)()});return await (0,o.a)("CREATE_COMPANY",{entityId:t.id,entityType:"company",name:e.name}),t.id}catch(e){return console.error("Error adding company:",e),null}},[]),s=(0,a.useCallback)(async e=>{try{let{tags:t,...r}=e,n={...r,tags:t?t.split(",").map(e=>e.trim()).filter(Boolean):[],deadline:l.EK.fromDate(e.deadline),createdAt:(0,l.Bt)()},a=await (0,l.ET)((0,l.hJ)(i.db,"projects"),n);return await (0,o.a)("CREATE_PROJECT",{entityId:a.id,entityType:"project",name:e.title}),a.id}catch(e){return console.error("Error adding project:",e),null}},[]);return(0,n.jsx)(d.Provider,{value:{addCompany:r,addProject:s},children:t})}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.IO)((0,l.hJ)(i.db,e));return(await (0,l.PL)(t)).docs.map(e=>({id:e.id,...e.data()}))}function p(){let{data:e=[],isLoading:t,isError:r}=(0,s.a)({queryKey:["companies"],queryFn:()=>u("companies")});return{companies:e,isLoading:t,isError:r}}function h(){let{data:e=[],isLoading:t,isError:r}=(0,s.a)({queryKey:["projects"],queryFn:()=>u("projects")});return{projects:e,isLoading:t,isError:r}}function m(){let{data:e=[],isLoading:t,isError:r}=(0,s.a)({queryKey:["buildings"],queryFn:()=>u("buildings")});return{buildings:e,isLoading:t,isError:r}}let f=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useDataActions must be used within a DataProvider");return e}},16352:function(e,t,r){"use strict";r.d(t,{Vs:function(){return o},Y5:function(){return c},d5:function(){return a},dn:function(){return i},mN:function(){return s},mW:function(){return u},o4:function(){return l},u5:function(){return d}});var n=r(59917);let a=n.Ry({floorIds:n.IX(n.Z_()).nonempty({message:"Πρέπει να επιλέξετε τουλάχιστον έναν όροφο."}),identifier:n.Z_().min(1,{message:"Ο κωδικός είναι υποχρεωτικός. Δημιουργήστε τον αυτόματα."}),name:n.Z_().min(1,{message:"Το όνομα είναι υποχρεωτικό."}),type:n.Z_().min(1,{message:"Ο τύπος είναι υποχρεωτικός."}),status:n.Km(["Διαθέσιμο","Κρατημένο","Πωλημένο","Οικοπεδούχος","Προς Ενοικίαση"]),netArea:n.Z_().optional(),grossArea:n.Z_().optional(),commonArea:n.Z_().optional(),semiOutdoorArea:n.Z_().optional(),architecturalProjectionsArea:n.Z_().optional(),balconiesArea:n.Z_().optional(),price:n.Z_().optional(),bedrooms:n.Z_().optional(),bathrooms:n.Z_().optional(),orientation:n.Z_().optional(),kitchenLayout:n.Z_().optional(),description:n.Z_().optional(),isPenthouse:n.O7().default(!1),amenities:n.IX(n.Z_()).optional(),levelSpan:n.Rx().int().min(0).default(0)}),l=["Μεζονέτα","Κατάστημα"],i=[{id:"parking",label:"Θέση Στάθμευσης"},{id:"elevator",label:"Ασανσέρ"},{id:"securityDoor",label:"Πόρτα Ασφαλείας"},{id:"alarm",label:"Συναγερμός"},{id:"furnished",label:"Επιπλωμένο"},{id:"storage",label:"Αποθήκη"},{id:"fireplace",label:"Τζάκι"},{id:"balcony",label:"Βεράντα/Μπαλκόνι"},{id:"internalStairs",label:"Εσωτερική Σκάλα"},{id:"garden",label:"Κήπος"},{id:"pool",label:"Πισίνα"},{id:"playroom",label:"Playroom"}],o=["Ανατολικός","Δυτικός","Βόρειος","Νότιος","Βορειοανατολικός","Βορειοδυτικός","Νοτιοανατολικός","Νοτιοδυτικός","Διαμπερές"],s=["Σαλοκουζίνα (Ενιαίος χώρος)","Ξεχωριστή Κουζίνα","Χωρίς Κουζίνα/Σαλόνι"];function d(e){let t={identifier:e.identifier,name:e.name,type:e.type||"",status:e.status,floorIds:e.floorIds,netArea:e.netArea?parseFloat(e.netArea):void 0,grossArea:e.grossArea?parseFloat(e.grossArea):void 0,commonArea:e.commonArea?parseFloat(e.commonArea):void 0,semiOutdoorArea:e.semiOutdoorArea?parseFloat(e.semiOutdoorArea):void 0,architecturalProjectionsArea:e.architecturalProjectionsArea?parseFloat(e.architecturalProjectionsArea):void 0,balconiesArea:e.balconiesArea?parseFloat(e.balconiesArea):void 0,price:e.price?parseFloat(e.price):void 0,bedrooms:e.bedrooms?parseInt(e.bedrooms,10):void 0,bathrooms:e.bathrooms,orientation:e.orientation||"",kitchenLayout:e.kitchenLayout||"",description:e.description||"",isPenthouse:e.isPenthouse,amenities:e.amenities||[],levelSpan:e.levelSpan};return Object.keys(t).forEach(e=>(void 0===t[e]||""===t[e])&&delete t[e]),!1===e.isPenthouse&&(t.isPenthouse=!1),t}function c(e){var t;let r={identifier:e.identifier,type:e.type,details:e.details,area:e.area?parseFloat(e.area):void 0,price:e.price?parseFloat(e.price):void 0,sharePercentage:e.sharePercentage?parseFloat(e.sharePercentage):void 0,isBundle:e.isBundle,isStandalone:e.isStandalone,photoUrl:(null===(t=e.photoUrl)||void 0===t?void 0:t.trim())||void 0};return Object.keys(r).forEach(e=>(void 0===r[e]||""===r[e])&&delete r[e]),!1===e.isBundle&&(r.isBundle=!1),!1===e.isStandalone&&(r.isStandalone=!1),r}let u=e=>{switch(e){case"Πωλημένο":return"bg-red-500 hover:bg-red-600 text-white";case"Κρατημένο":return"bg-yellow-500 hover:bg-yellow-600 text-white";case"Διαθέσιμο":return"bg-green-500 hover:bg-green-600 text-white";case"Προς Ενοικίαση":return"bg-purple-500 hover:bg-purple-600 text-white";case"Οικοπεδούχος":return"bg-orange-500 hover:bg-orange-600 text-white";default:return"bg-gray-500 hover:bg-gray-600 text-white"}}},61485:function(e,t,r){"use strict";r.d(t,{VY:function(){return q},fC:function(){return W},h_:function(){return B},xz:function(){return X}});var n=r(2265),a=r(78149),l=r(1584),i=r(98324),o=r(53938),s=r(20589),d=r(80467),c=r(53201),u=r(25510),p=r(56935),h=r(31383),m=r(25171),f=r(71538),x=r(91715),v=r(78369),j=r(17590),g=r(57437),b="Popover",[y,w]=(0,i.b)(b,[u.D7]),N=(0,u.D7)(),[C,I]=y(b),k=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:l,onOpenChange:i,modal:o=!1}=e,s=N(t),d=n.useRef(null),[p,h]=n.useState(!1),[m,f]=(0,x.T)({prop:a,defaultProp:null!=l&&l,onChange:i,caller:b});return(0,g.jsx)(u.fC,{...s,children:(0,g.jsx)(C,{scope:t,contentId:(0,c.M)(),triggerRef:d,open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:p,onCustomAnchorAdd:n.useCallback(()=>h(!0),[]),onCustomAnchorRemove:n.useCallback(()=>h(!1),[]),modal:o,children:r})})};k.displayName=b;var A="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,l=I(A,r),i=N(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=l;return n.useEffect(()=>(o(),()=>s()),[o,s]),(0,g.jsx)(u.ee,{...i,...a,ref:t})}).displayName=A;var P="PopoverTrigger",Z=n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=I(P,r),o=N(r),s=(0,l.e)(t,i.triggerRef),d=(0,g.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":T(i.open),...n,ref:s,onClick:(0,a.M)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:(0,g.jsx)(u.ee,{asChild:!0,...o,children:d})});Z.displayName=P;var E="PopoverPortal",[_,O]=y(E,{forceMount:void 0}),S=e=>{let{__scopePopover:t,forceMount:r,children:n,container:a}=e,l=I(E,t);return(0,g.jsx)(_,{scope:t,forceMount:r,children:(0,g.jsx)(h.z,{present:r||l.open,children:(0,g.jsx)(p.h,{asChild:!0,container:a,children:n})})})};S.displayName=E;var F="PopoverContent",R=n.forwardRef((e,t)=>{let r=O(F,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,l=I(F,e.__scopePopover);return(0,g.jsx)(h.z,{present:n||l.open,children:l.modal?(0,g.jsx)(D,{...a,ref:t}):(0,g.jsx)(J,{...a,ref:t})})});R.displayName=F;var M=(0,f.Z8)("PopoverContent.RemoveScroll"),D=n.forwardRef((e,t)=>{let r=I(F,e.__scopePopover),i=n.useRef(null),o=(0,l.e)(t,i),s=n.useRef(!1);return n.useEffect(()=>{let e=i.current;if(e)return(0,v.Ry)(e)},[]),(0,g.jsx)(j.Z,{as:M,allowPinchZoom:!0,children:(0,g.jsx)(z,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),s.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,a.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;s.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),J=n.forwardRef((e,t)=>{let r=I(F,e.__scopePopover),a=n.useRef(!1),l=n.useRef(!1);return(0,g.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let o=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),z=n.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,...f}=e,x=I(F,r),v=N(r);return(0,s.EW)(),(0,g.jsx)(d.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:(0,g.jsx)(o.XB,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:h,onDismiss:()=>x.onOpenChange(!1),children:(0,g.jsx)(u.VY,{"data-state":T(x.open),role:"dialog",id:x.contentId,...v,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),V="PopoverClose";function T(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,l=I(V,r);return(0,g.jsx)(m.WV.button,{type:"button",...n,ref:t,onClick:(0,a.M)(e.onClick,()=>l.onOpenChange(!1))})}).displayName=V,n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,a=N(r);return(0,g.jsx)(u.Eh,{...a,...n,ref:t})}).displayName="PopoverArrow";var W=k,X=Z,B=S,q=R}},function(e){e.O(0,[3609,9015,8502,1080,5693,5510,323,2962,7853,5590,8275,5975,8254,5377,2971,7023,1744],function(){return e(e.s=58823)}),_N_E=e.O()}]);