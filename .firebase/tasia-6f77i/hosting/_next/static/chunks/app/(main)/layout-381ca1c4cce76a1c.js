(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4095],{82745:function(e,t,s){Promise.resolve().then(s.bind(s,44508))},44508:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return en}});var a=s(57437),n=s(2265),l=s(32570),r=s(16463),i=s(11240),o=s(95737),c=s(47390),d=s(22023),u=s(18512),f=s(24241),m=s(67396),h=s(64590),p=s(74232),x=s(25912),j=s(94499),g=s(35931),b=s(11005),N=s(84129),w=s(71372),y=s(38711),v=s(48281),Z=s(35690),k=s(15574),z=s(24258),_=s(49354);let R=[{href:"/contacts",label:"Επαφές",icon:i.Z},{href:"/leads",label:"Leads",icon:o.Z},{href:"/meetings",label:"Συσκέψεις",icon:c.Z},{href:"/contracts",label:"Συμβόλαια",icon:d.Z},{href:"/work-stages",label:"Στάδια Εργασιών",icon:u.Z},{href:"/calendar",label:"Ημερολόγιο",icon:f.Z},{href:"/architect-desk",label:"Architect's Desk",icon:m.Z},{href:"/assignments",label:"Οι Αναθέσεις μου",icon:h.Z}],C=[{href:"/companies",label:"Εταιρείες",icon:p.Z},{href:"/projects",label:"Έργα",icon:x.Z},{href:"/buildings",label:"Κτίρια",icon:j.Z},{href:"/floors",label:"Όροφοι",icon:g.Z},{href:"/units",label:"Ακίνητα",icon:b.Z},{href:"/attachments",label:"Παρακολουθήματα",icon:h.Z}];N.Z,w.Z,y.Z,v.Z,Z.Z,u.Z,k.Z;let A=[{href:"/custom-lists",label:"Προσ. Λίστες",icon:k.Z}];function L(){let e=(0,r.usePathname)(),t=t=>"/dashboard"===t?e===t:e.startsWith(t),s=e=>{let s=t(e);return(0,_.cn)("text-lg font-medium text-left px-4 py-2 whitespace-nowrap",s?"bg-gray-700 text-white":"text-gray-400")};return(0,a.jsxs)(l.w3,{children:[(0,a.jsxs)(l.Hz,{children:[(0,a.jsx)(l.nO,{className:"text-base font-semibold tracking-wider text-gray-500 uppercase px-4 whitespace-nowrap",children:"Ευρετήριο Ακινήτων"}),C.map(e=>(0,a.jsx)(l.LO,{children:(0,a.jsx)(l.bb,{href:e.href,className:s(e.href),icon:e.icon,tooltip:e.label,children:(0,a.jsx)("span",{className:"ml-3",children:e.label})})},e.href))]}),(0,a.jsx)(l.tm,{}),(0,a.jsxs)(l.Hz,{children:[(0,a.jsx)(l.nO,{className:"text-base font-semibold tracking-wider text-gray-500 uppercase px-4 whitespace-nowrap",children:"Εργαλεία"}),R.map(e=>(0,a.jsx)(l.LO,{children:(0,a.jsx)(l.bb,{href:e.href,className:s(e.href),icon:e.icon,tooltip:e.label,children:(0,a.jsx)("span",{className:"ml-3",children:e.label})})},e.href))]}),(0,a.jsx)(l.tm,{}),(0,a.jsxs)(l.Hz,{children:[(0,a.jsx)(l.nO,{className:"text-base font-semibold tracking-wider text-gray-500 uppercase px-4 whitespace-nowrap",children:"Διαχείριση"}),A.map(e=>(0,a.jsx)(l.LO,{children:(0,a.jsx)(l.bb,{href:e.href,className:s(e.href),icon:e.icon,tooltip:e.label,children:(0,a.jsx)("span",{className:"ml-3",children:e.label})})},e.href))]}),(0,a.jsx)(l.LO,{className:"mt-auto",children:(0,a.jsx)(l.bb,{href:"/settings",className:s("/settings"),icon:z.Z,tooltip:"Ρυθμίσεις",children:(0,a.jsx)("span",{className:"ml-3",children:"Ρυθμίσεις"})})})]})}function O(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,a.jsx)("title",{children:"TASIA Logo"}),(0,a.jsx)("path",{d:"M2 3h20"}),(0,a.jsx)("path",{d:"M12 3v18"}),(0,a.jsx)("path",{d:"M7 21h10"})]})}var I=s(54662);function E(e){let{children:t}=e;return(0,a.jsxs)(I.Vq,{children:[(0,a.jsx)(I.hg,{asChild:!0,children:t}),(0,a.jsxs)(I.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(I.fK,{children:[(0,a.jsx)(I.$N,{children:"Οδηγίες Χρήσης"}),(0,a.jsx)(I.Be,{children:"Ακολουθούν οι οδηγίες για την εφαρμογή Εξοικονομώ."})]}),(0,a.jsxs)("div",{className:"prose prose-sm dark:prose-invert",children:[(0,a.jsx)("p",{children:'Καλώς ήρθατε στην εφαρμογή διαχείρισης έργων του προγράμματος "Εξοικονομώ".'}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Πίνακας Ελέγχου:"})," Συνολική επισκόπηση της κατάστασης των έργων σας."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Λίστα Έργων:"})," Διαχειριστείτε όλα τα ενεργά και ολοκληρωμένα έργα σας."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Λίστα Επαφών:"})," Κεντρική διαχείριση των επαφών σας, πελατών, συνεργατών και προμηθευτών."]})]})]})]})]})}var U=s(89733);function V(){return(0,a.jsxs)(l.YE,{variant:"sidebar",collapsible:"icon",children:[(0,a.jsxs)(l.$l,{className:"p-2 flex items-center gap-2",children:[(0,a.jsx)(O,{className:"w-8 h-8 text-primary"}),(0,a.jsx)("span",{className:"text-xl font-bold whitespace-nowrap text-gray-800 dark:text-white transition-opacity group-data-[state=collapsed]:opacity-0 ml-2",children:"TASIA"})]}),(0,a.jsx)(l.TZ,{children:(0,a.jsx)(L,{})}),(0,a.jsx)(l.ZW,{children:(0,a.jsx)(E,{children:(0,a.jsxs)(U.z,{variant:"ghost",className:"w-full justify-start gap-2",children:[(0,a.jsx)("div",{className:"size-4"}),(0,a.jsx)("span",{children:"Οδηγίες Χρήσης"})]})})})]})}var W=s(70303),F=s(89506),D=s(78763),$=s(80420),M=s(31590),Y=s(89896),B=s(97905),P=s(87786),q=s(87138),J=s(87592),T=s(89736);function H(e){let{items:t,className:s}=e;return(0,a.jsx)(T.pn,{children:(0,a.jsx)("nav",{"aria-label":"Breadcrumb",className:(0,_.cn)("hidden md:block",s),children:(0,a.jsx)("ol",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:t.map((e,s)=>{let l=s===t.length-1,r=(0,a.jsx)("span",{className:"truncate",style:{maxWidth:"150px"},children:e.label});return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("li",{children:l?(0,a.jsxs)(T.u,{children:[(0,a.jsx)(T.aJ,{asChild:!0,children:(0,a.jsx)("span",{className:"font-semibold text-foreground truncate","aria-current":"page",style:{maxWidth:"150px"},children:e.label})}),(0,a.jsx)(T._v,{children:(0,a.jsx)("p",{children:e.tooltip||e.label})})]}):(0,a.jsxs)(T.u,{children:[(0,a.jsx)(T.aJ,{asChild:!0,children:(0,a.jsx)(q.default,{href:e.href,className:"transition-colors hover:text-foreground",children:r})}),(0,a.jsx)(T._v,{children:(0,a.jsx)("p",{children:e.tooltip||e.label})})]})}),!l&&(0,a.jsx)("li",{children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]},"".concat(e.href,"-").concat(e.label))})})})})}var S=s(69842);let Q=new Map;async function G(e,t){if(!t||!e)return null;let s="".concat(e,"/").concat(t);if(Q.has(s))return Q.get(s)||null;try{let a=(0,S.JU)(F.db,e,t),n=await (0,S.QT)(a);if(n.exists()){let e={id:n.id,...n.data()};return Q.set(s,e),e}return Q.set(s,null),null}catch(s){return console.error("Failed to fetch from ".concat(e,"/").concat(t,":"),s),null}}let K={companies:"Εταιρείες",projects:"Έργα",buildings:"Κτίρια",floors:"Όροφοι",units:"Ακίνητα",attachments:"Παρακολουθήματα","audit-log":"Audit Log",users:"User Management",settings:"Ρυθμίσεις","architect-dashboard":"Architect's Dashboard",assignments:"Οι Αναθέσεις μου",construction:"Κατασκευή",calendar:"Ημερολόγιο",leads:"Leads",meetings:"Συσκέψεις",templates:"Πρότυπα","work-stages":"Πρότυπα Εργασιών",new:"Δημιουργία"},X={companies:"companies",projects:"projects",buildings:"buildings",floors:"floors",units:"units",attachments:"attachments"},ee=e=>/^[a-zA-Z0-9]{16,}$/.test(e);var et=s(2183);function es(){var e,t,s,i;let{isMobile:o}=(0,D.A)(),c=(0,r.useRouter)(),{user:d,isLoading:u}=(0,P.a)(),f=(0,r.usePathname)(),m=function(){let e=(0,r.usePathname)(),[t,s]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{let t,a,n,l,r;let i=e.split("/").filter(Boolean);if(0===i.length){s([]);return}let o="",c=e.split("/").filter(Boolean);if(!(c.length>1&&ee(c[c.length-1]))){let e=[];for(let t of i)o+="/".concat(t),K[t]&&e.push({href:o,label:K[t],tooltip:K[t]});s(e);return}let d=c[c.length-1],u=X[c[c.length-2]];if(!u){s([]);return}let f=await G(u,d);if(!f){s([]);return}let m="attachments"===u?f.id:void 0;m?r=f.unitId:"units"===u?r=f.id:"floors"===u?l=f.id:"buildings"===u?n=f.id:"projects"===u&&(a=f.id);let h=r?await G("units",r):null;if(h){var p;l=null===(p=h.floorIds)||void 0===p?void 0:p[0],n=h.buildingId,a=h.projectId}let x=l?await G("floors",l):null;x&&(n=x.buildingId);let j=n?await G("buildings",n):null;j&&(a=j.projectId);let g=a?await G("projects",a):null;g&&(t=g.companyId),t&&await G("companies",t);let b=[];if(b.push({href:"/companies",label:"Εταιρείες",tooltip:"Μετάβαση στις Εταιρείες"}),g&&b.push({href:"/projects/".concat(g.id),label:g.title||"Έργο",tooltip:"Μετάβαση σε ".concat(g.title)}),j&&b.push({href:"/buildings/".concat(j.id),label:j.address||"Κτίριο",tooltip:"Μετάβαση σε ".concat(j.address)}),x&&b.push({href:"/floors/".concat(x.id),label:"Όροφος ".concat(x.level||"").trim(),tooltip:"Μετάβαση στον Όροφο ".concat(x.level)}),h&&b.push({href:"/units/".concat(h.id),label:h.name||"Ακίνητο",tooltip:"Μετάβαση στο ".concat(h.name)}),m){let t=await G("attachments",m);t&&b.push({href:e,label:t.details||"Παρακολουθημα",tooltip:"Μετάβαση στο ".concat(t.details)})}s(b)})()},[e]),t}(),h=m.length>0&&!f.startsWith("/login")&&!f.startsWith("/register")&&"/"!==f,p=async()=>{await (0,W.w7)(F.I8),c.push("/login")};return(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex h-14 items-center gap-4 border-b bg-sidebar-background/80 px-4 backdrop-blur-sm sm:h-16 sm:px-6",children:[o&&(0,a.jsx)(l.vP,{}),(0,a.jsx)("div",{className:"flex-1",children:h&&(0,a.jsx)(H,{items:m})}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:u?(0,a.jsx)(et.O,{className:"h-8 w-8 rounded-full"}):d?(0,a.jsxs)(M.h_,{children:[(0,a.jsx)(M.$F,{asChild:!0,children:(0,a.jsx)(U.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,a.jsxs)($.qE,{className:"h-8 w-8",children:[(0,a.jsx)($.F$,{src:null!==(e=d.photoURL)&&void 0!==e?e:"",alt:null!==(t=d.displayName)&&void 0!==t?t:"User"}),(0,a.jsx)($.Q5,{children:(i=d.email)?i.substring(0,2).toUpperCase():"U"})]})})}),(0,a.jsxs)(M.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,a.jsx)(M.Ju,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:null!==(s=d.displayName)&&void 0!==s?s:"My Account"}),(0,a.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:d.email})]})}),(0,a.jsx)(M.VD,{}),(0,a.jsxs)(M.Xi,{onClick:p,children:[(0,a.jsx)(Y.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Log out"})]})]})]}):(0,a.jsxs)(U.z,{onClick:()=>{c.push("/login")},children:[(0,a.jsx)(B.Z,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})}function ea(e){let{children:t}=e,s=(0,r.usePathname)().startsWith("/nestor")?"nestor":"tasia";return(0,a.jsxs)("div",{className:(0,_.cn)("flex min-h-screen w-full",s),children:[(0,a.jsx)(V,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col w-full",children:[(0,a.jsx)(es,{}),(0,a.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:t})]})]})}function en(e){let{children:t}=e;return(0,a.jsx)(ea,{children:t})}},80420:function(e,t,s){"use strict";s.d(t,{F$:function(){return o},Q5:function(){return c},qE:function(){return i}});var a=s(57437),n=s(2265),l=s(81464),r=s(49354);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.fC,{ref:t,className:(0,r.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...n})});i.displayName=l.fC.displayName;let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.Ee,{ref:t,className:(0,r.cn)("aspect-square h-full w-full",s),...n})});o.displayName=l.Ee.displayName;let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.NY,{ref:t,className:(0,r.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...n})});c.displayName=l.NY.displayName},54662:function(e,t,s){"use strict";s.d(t,{$N:function(){return x},Be:function(){return j},GG:function(){return u},Vq:function(){return o},cN:function(){return p},cZ:function(){return m},fK:function(){return h},hg:function(){return c}});var a=s(57437),n=s(2265),l=s(13304),r=s(74697),i=s(49354);let o=l.fC,c=l.xz,d=l.h_,u=l.x8,f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});f.displayName=l.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:s,children:n,...o}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[n,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.VY.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});x.displayName=l.Dx.displayName;let j=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})});j.displayName=l.dk.displayName},31590:function(e,t,s){"use strict";s.d(t,{$F:function(){return u},AW:function(){return f},Ju:function(){return h},VD:function(){return p},Xi:function(){return m},h_:function(){return d}});var a=s(57437),n=s(2265),l=s(81622),r=s(87592),i=s(22468),o=s(28165),c=s(49354);let d=l.fC,u=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,n.forwardRef((e,t)=>{let{className:s,inset:n,children:i,...o}=e;return(0,a.jsxs)(l.fF,{ref:t,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...o,children:[i,(0,a.jsx)(r.Z,{className:"ml-auto"})]})}).displayName=l.fF.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}).displayName=l.tu.displayName;let f=n.forwardRef((e,t)=>{let{className:s,sideOffset:n=4,...r}=e;return(0,a.jsx)(l.Uv,{children:(0,a.jsx)(l.VY,{ref:t,sideOffset:n,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});f.displayName=l.VY.displayName;let m=n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(l.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...r})});m.displayName=l.ck.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,checked:r,...o}=e;return(0,a.jsxs)(l.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})}),n]})}).displayName=l.oC.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(l.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=l.Rk.displayName;let h=n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(l.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...r})});h.displayName=l.__.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...n})});p.displayName=l.Z0.displayName},2183:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var a=s(57437),n=s(49354);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...s})}}},function(e){e.O(0,[3609,9015,8502,1080,5693,5510,323,7853,7138,7071,8615,4889,2603,6872,2971,7023,1744],function(){return e(e.s=82745)}),_N_E=e.O()}]);