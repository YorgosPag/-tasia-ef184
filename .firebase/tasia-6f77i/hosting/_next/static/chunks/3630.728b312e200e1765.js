"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3630],{6884:function(e,s,t){t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},75733:function(e,s,t){t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(78030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},29943:function(e,s,t){t.d(s,{OL:function(){return p},_T:function(){return u},aR:function(){return c},f$:function(){return f},fY:function(){return m},le:function(){return v},vW:function(){return d},xo:function(){return h},yT:function(){return j}});var a=t(57437),n=t(2265),r=t(76669),l=t(49354),i=t(89733);let c=r.fC,d=r.xz,o=r.h_,x=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s})});x.displayName=r.aV.displayName;let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.VY,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]})});u.displayName=r.VY.displayName;let m=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};m.displayName="AlertDialogHeader";let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};h.displayName="AlertDialogFooter";let f=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold",t),...n})});f.displayName=r.Dx.displayName;let j=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...n})});j.displayName=r.dk.displayName;let p=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.aU,{ref:s,className:(0,l.cn)((0,i.d)(),t),...n})});p.displayName=r.aU.displayName;let v=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.$j,{ref:s,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",t),...n})});v.displayName=r.$j.displayName},79055:function(e,s,t){t.d(s,{C:function(){return i}});var a=t(57437);t(2265);var n=t(13027),r=t(49354);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)(l({variant:t}),s),...n})}},48185:function(e,s,t){t.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},eW:function(){return x},ll:function(){return c}});var a=t(57437),n=t(2265),r=t(49354);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});l.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...n})});o.displayName="CardContent";let x=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...n})});x.displayName="CardFooter"},44541:function(e,s,t){t.d(s,{X:function(){return c}});var a=t(57437),n=t(2265),r=t(69324),l=t(22468),i=t(49354);let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.fC,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:(0,a.jsx)(r.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})})});c.displayName=r.fC.displayName},29973:function(e,s,t){t.d(s,{Z:function(){return i}});var a=t(57437),n=t(2265),r=t(48484),l=t(49354);let i=n.forwardRef((e,s)=>{let{className:t,orientation:n="horizontal",decorative:i=!0,...c}=e;return(0,a.jsx)(r.f,{ref:s,decorative:i,orientation:n,className:(0,l.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",t),...c})});i.displayName=r.f.displayName},47304:function(e,s,t){t.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return l},pj:function(){return x},ss:function(){return o},xD:function(){return i}});var a=t(57437),n=t(2265),r=t(49354);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",t),...n})})});l.displayName="Table";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",t),...n})});i.displayName="TableHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",t),...n})});c.displayName="TableBody",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})}).displayName="TableFooter";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted data-[state=selected]:bg-muted",t),...n})});d.displayName="TableRow";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("th",{ref:s,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n})});o.displayName="TableHead";let x=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("td",{ref:s,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n})});x.displayName="TableCell",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",t),...n})}).displayName="TableCaption"},86864:function(e,s,t){t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return i},nU:function(){return o}});var a=t(57437),n=t(2265),r=t(62447),l=t(49354);let i=r.fC,c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.aV,{ref:s,className:(0,l.cn)("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});c.displayName=r.aV.displayName;let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm hover:bg-[#e46767]/10",t),...n})});d.displayName=r.xz.displayName;let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});o.displayName=r.VY.displayName},4919:function(e,s,t){t.d(s,{g:function(){return l}});var a=t(57437),n=t(2265),r=t(49354);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});l.displayName="Textarea"},23630:function(e,s,t){t.r(s),t.d(s,{UnitDetailsPageView:function(){return H}});var a=t(57437),n=t(2265),r=t(89733),l=t(48185),i=t(93363),c=t(3274),d=t(95137),o=t(96273),x=t(77209),u=t(2128),m=t(4919),h=t(60343),f=t(29973),j=t(16352),p=t(72372),v=t(71334);function g(e){var s;let{form:t,unit:n,getStatusClass:r}=e;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ll,{children:["Επεξεργασία Ακινήτου: ",n.name," (",n.identifier,")"]}),(0,a.jsxs)(l.SZ,{children:["Τύπος: ",n.type||"N/A"," |",n.levelSpan?" Όροφοι: ".concat(n.levelSpan):" ID Ορόφου: ".concat(null===(s=n.floorIds)||void 0===s?void 0:s.join(", "))]})]}),(0,a.jsx)(i.Wi,{control:t.control,name:"status",render:e=>{let{field:s}=e;return(0,a.jsx)(i.xJ,{children:(0,a.jsxs)(u.Ph,{onValueChange:s.onChange,value:s.value,children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(u.i4,{className:"w-[180px] ".concat(r(s.value)),children:(0,a.jsx)(u.ki,{placeholder:"Επιλέξτε κατάσταση"})})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"Διαθέσιμο",children:"Διαθέσιμο"}),(0,a.jsx)(u.Ql,{value:"Προς Ενοικίαση",children:"Προς Ενοικίαση"}),(0,a.jsx)(u.Ql,{value:"Κρατημένο",children:"Κρατημένο"}),(0,a.jsx)(u.Ql,{value:"Πωλημένο",children:"Πωλημένο"}),(0,a.jsx)(u.Ql,{value:"Οικοπεδούχος",children:"Οικοπεδούχος"})]})]})})}})]})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsx)(i.Wi,{control:t.control,name:"identifier",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Κωδικός"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{...s})}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Όνομα/Αναγνωριστικό"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{...s})}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"type",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Τύπος"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{...s})}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"orientation",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Προσανατολισμός"}),(0,a.jsxs)(u.Ph,{onValueChange:s.onChange,defaultValue:s.value,value:s.value||"",children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(u.i4,{children:(0,a.jsx)(u.ki,{placeholder:"Επιλέξτε προσανατολισμό..."})})}),(0,a.jsx)(u.Bw,{children:j.Vs.map(e=>(0,a.jsx)(u.Ql,{value:e,children:e},e))})]}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"price",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Τιμή (€)"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{type:"number",...s})}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"bedrooms",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Υπνοδωμάτια"}),(0,a.jsxs)(u.Ph,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(u.i4,{children:(0,a.jsx)(u.ki,{placeholder:"Επιλέξτε αριθμό..."})})}),(0,a.jsx)(u.Bw,{children:Array.from({length:8},(e,s)=>s).map(e=>(0,a.jsx)(u.Ql,{value:e.toString(),children:0===e?"Χωρίς υπνοδωμάτιο":"".concat(e," υπνοδωμάτιο(α)")},e))})]}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"bathrooms",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Λουτρά (Περιγραφή)"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{placeholder:"π.χ. 1 με παράθυρο, 1 WC",...s})}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"kitchenLayout",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Σαλόνι, Κουζίνα"}),(0,a.jsxs)(u.Ph,{onValueChange:s.onChange,defaultValue:s.value,value:s.value||"",children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(u.i4,{children:(0,a.jsx)(u.ki,{placeholder:"Επιλέξτε διαρρύθμιση..."})})}),(0,a.jsx)(u.Bw,{children:j.mN.map(e=>(0,a.jsx)(u.Ql,{value:e,children:e},e))})]}),(0,a.jsx)(i.zG,{})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"isPenthouse",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsx)("div",{className:"space-y-0.5",children:(0,a.jsx)(i.lX,{children:"Ρετιρέ"})}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(h.r,{checked:s.value,onCheckedChange:s.onChange})})]})}}),(0,a.jsx)(i.Wi,{control:t.control,name:"levelSpan",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:"Αριθμός Ορόφων που καταλαμβάνει"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(x.I,{type:"number",min:"1",...s,onChange:e=>s.onChange(parseInt(e.target.value,10)||1)})}),(0,a.jsx)(i.zG,{})]})}})]}),(0,a.jsx)(f.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-4",children:"Ανάλυση Εμβαδού (τ.μ.)"}),(0,a.jsx)(p.q,{control:t.control})]}),(0,a.jsx)(f.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-4",children:"Παροχές"}),(0,a.jsx)(v.k,{control:t.control})]}),(0,a.jsx)(f.Z,{}),(0,a.jsx)(i.Wi,{control:t.control,name:"description",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{className:"text-base font-semibold",children:"Περιγραφή"}),(0,a.jsx)(i.NI,{children:(0,a.jsx)(m.g,{...s,rows:5})}),(0,a.jsx)(i.zG,{})]})}})]})]})}var N=t(24669),b=t(47304),y=t(29943),w=t(79055),C=t(6884),k=t(6649),z=t(10883),Z=t(6460),I=t(49354);let S=e=>e?(0,Z.WU)(e.toDate(),"dd/MM/yyyy"):"N/A";function R(e){let{units:s,isLoading:t,highlightedUnitId:n,onAddNewUnit:l,onEditUnit:i,onDeleteUnit:d,onViewUnit:x,onDuplicateUnit:u,setHighlightedUnitId:m}=e,h=s.length>0&&s[0].hasOwnProperty("details");return t?(0,a.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===s.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Δεν βρέθηκαν εγγραφές."}),l&&(0,a.jsxs)(r.z,{onClick:l,className:"mt-4",children:[(0,a.jsx)(o.Z,{className:"mr-2"}),"Προσθήκη"]})]}):(0,a.jsx)("div",{className:"w-full overflow-x-auto border rounded-lg",children:(0,a.jsxs)(b.iA,{children:[(0,a.jsx)(b.xD,{children:(0,a.jsxs)(b.SC,{children:[h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.ss,{children:"Τύπος"}),(0,a.jsx)(b.ss,{children:"Λεπτομέρειες"}),(0,a.jsx)(b.ss,{children:"Εμβαδόν"}),(0,a.jsx)(b.ss,{children:"Τιμή"}),(0,a.jsx)(b.ss,{children:"% Συνιδιοκτησίας"}),(0,a.jsx)(b.ss,{children:"Ανεξάρτητο"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.ss,{children:"Κωδικός"}),(0,a.jsx)(b.ss,{children:"Όνομα/ID"}),(0,a.jsx)(b.ss,{children:"Τύπος"}),(0,a.jsx)(b.ss,{children:"Κατάσταση"}),(0,a.jsx)(b.ss,{children:"Ημ/νία Δημιουργίας"})]}),(0,a.jsx)(b.ss,{className:"text-right",children:l&&!h&&(0,a.jsxs)(r.z,{variant:"ghost",size:"sm",onClick:l,children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Νέο Ακίνητο"]})})]})}),(0,a.jsx)(b.RM,{children:s.map(e=>{let s=n===e.id;return(0,a.jsxs)(b.SC,{className:(0,I.cn)("group transition-colors",s&&"bg-primary/10"),onMouseEnter:()=>null==m?void 0:m(e.id),onMouseLeave:()=>null==m?void 0:m(null),children:[h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.pj,{className:"font-medium capitalize",children:e.type}),(0,a.jsx)(b.pj,{children:e.details||"N/A"}),(0,a.jsx)(b.pj,{children:e.area?"".concat(e.area," τ.μ."):"N/A"}),(0,a.jsx)(b.pj,{children:e.price?"€".concat(e.price):"N/A"}),(0,a.jsx)(b.pj,{children:e.sharePercentage?"".concat(e.sharePercentage,"%"):"N/A"}),(0,a.jsx)(b.pj,{children:e.isStandalone?"Ναι":"Όχι"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.pj,{className:"font-medium",children:e.identifier}),(0,a.jsx)(b.pj,{className:"font-medium",children:e.name}),(0,a.jsx)(b.pj,{className:"text-muted-foreground",children:e.type||"N/A"}),(0,a.jsx)(b.pj,{children:e.status&&(0,a.jsx)(w.C,{variant:"default",className:(0,j.mW)(e.status),children:e.status})}),(0,a.jsx)(b.pj,{children:S(e.createdAt)})]}),(0,a.jsx)(b.pj,{className:"text-right",children:(0,a.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex justify-end gap-1",children:[u&&!h&&(0,a.jsxs)(r.z,{variant:"ghost",size:"icon",title:"Αντιγραφή",onClick:()=>u(e.id),children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Αντιγραφή"})]}),(0,a.jsxs)(r.z,{variant:"ghost",size:"icon",title:"Επεξεργασία",onClick:()=>i(e),children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Επεξεργασία"})]}),(0,a.jsxs)(y.aR,{children:[(0,a.jsx)(y.vW,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"ghost",size:"icon",title:"Διαγραφή",className:"text-destructive hover:text-destructive",children:[(0,a.jsx)(z.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Διαγραφή"})]})}),(0,a.jsxs)(y._T,{children:[(0,a.jsxs)(y.fY,{children:[(0,a.jsx)(y.f$,{children:"Είστε σίγουροι;"}),(0,a.jsx)(y.yT,{children:"Αυτή η ενέργεια δεν μπορεί να αναιρεθεί. Θα διαγραφεί οριστικά."})]}),(0,a.jsxs)(y.xo,{children:[(0,a.jsx)(y.le,{children:"Ακύρωση"}),(0,a.jsx)(y.OL,{onClick:()=>d(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Διαγραφή"})]})]})]}),x&&!h&&(0,a.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>x(e.id),children:"Προβολή"})]})})]},e.id)})})]})})}var A=t(70402),P=t(92940),_=t(69842),V=t(89506),J=t(16463);t(74590);var U=(0,t(58064).$)("daa5d7c7df0bada56dd4cc4e48e1f26c76f11dfc"),W=t(86763);function T(e){let{unitName:s}=e,t=(0,J.useParams)().id,{toast:i}=(0,W.pm)(),[d,o]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),[p,v]=(0,n.useState)(!1),[g,N]=(0,n.useState)(!1),[b,y]=(0,n.useState)(""),w=async e=>{if(e.preventDefault(),!d||!u){y('Τα πεδία "Όνομα" και "Email" είναι υποχρεωτικά.');return}y(""),v(!0);try{await (0,_.ET)((0,_.hJ)(V.db,"leads"),{name:d,email:u,message:f,unitId:t,unitName:s,createdAt:(0,_.Bt)(),status:"New"});let e="georgios.pagonis@gmail.com";if(e){let t=await U({to:e,subject:"New Lead for ".concat(s),text:"You have a new lead for the unit: ".concat(s,".\n\nName: ").concat(d,"\nEmail: ").concat(u,"\nMessage: ").concat(f),html:"<p>You have a new lead for the unit: <strong>".concat(s,"</strong>.</p>\n                       <p><strong>Name:</strong> ").concat(d,"</p>\n                       <p><strong>Email:</strong> ").concat(u,"</p>\n                       <p><strong>Message:</strong></p>\n                       <p>").concat(f,"</p>")});t.success||console.warn("Could not send lead notification email:",t.message)}else console.warn("Lead notification email address is not set in environment variables (NEXT_PUBLIC_LEAD_NOTIFICATION_EMAIL). Skipping email notification.");N(!0)}catch(e){console.error("Failed to submit lead:",e),y("Η υποβολή απέτυχε. Παρακαλώ δοκιμάστε ξανά."),i({variant:"destructive",title:"Σφάλμα",description:"Η υποβολή του αιτήματος απέτυχε. Παρακαλώ προσπαθήστε ξανά."})}finally{v(!1)}};return g?(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Ευχαριστούμε για το ενδιαφέρον σας!"})}),(0,a.jsxs)(l.aY,{className:"text-center",children:[(0,a.jsx)(P.Z,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:['Το αίτημά σας για το ακίνητο "',s,'" έχει καταχωρηθεί. Ένας εκπρόσωπός μας θα επικοινωνήσει μαζί σας σύντομα.']})]})]}):(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Εκδήλωση Ενδιαφέροντος"}),(0,a.jsxs)(l.SZ,{children:['Συμπληρώστε τη φόρμα για να επικοινωνήσουμε μαζί σας για το ακίνητο "',s,'".']})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A._,{htmlFor:"contact-name",children:"Όνομα"}),(0,a.jsx)(x.I,{id:"contact-name",value:d,onChange:e=>o(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A._,{htmlFor:"contact-email",children:"Email"}),(0,a.jsx)(x.I,{id:"contact-email",type:"email",value:u,onChange:e=>h(e.target.value),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A._,{htmlFor:"contact-message",children:"Μήνυμα (Προαιρετικό)"}),(0,a.jsx)(m.g,{id:"contact-message",value:f,onChange:e=>j(e.target.value),placeholder:"π.χ. θα ήθελα να κανονίσω μια επίσκεψη..."})]}),b&&(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:b}),(0,a.jsxs)(r.z,{type:"submit",disabled:p,children:[p&&(0,a.jsx)(c.Z,{className:"mr-2 animate-spin"}),"Ενδιαφέρομαι"]})]})})]})}var D=t(86864),O=t(57697),E=t(75733),X=t(58184);let Y=[{id:"applicationUrl",label:"Κάτοψη Εφαρμογής"},{id:"urbanPlanningUrl",label:"Κάτοψη Πολεοδομίας"}];function F(e){let{unit:s}=e,{toast:t}=(0,W.pm)(),[i,d]=(0,n.useState)([]),[o,u]=(0,n.useState)(!0),[m,h]=(0,n.useState)(null),[f,j]=(0,n.useState)(!1),p=(0,n.useCallback)(async()=>{if(!s.floorIds||0===s.floorIds.length){u(!1);return}u(!0);let e=(0,_.IO)((0,_.hJ)(V.db,"floors"),(0,_.ar)("__name__","in",s.floorIds)),t=(await (0,_.PL)(e)).docs.map(e=>({id:e.id,level:e.data().level}));t.sort((e,s)=>e.level.localeCompare(s.level,void 0,{numeric:!0})),d(t),u(!1)},[s.floorIds]);(0,n.useEffect)(()=>{p()},[p]);let v=(e,s,a)=>{var n;let r=null===(n=e.target.files)||void 0===n?void 0:n[0];r&&"application/pdf"===r.type?h({file:r,floorId:s,planType:a}):(h(null),r&&t({variant:"destructive",title:"Λάθος τύπος αρχείου",description:"Επιλέξτε αρχείο PDF."}))},g=async()=>{if(!m)return;j(!0);let{file:e,floorId:a,planType:n}=m,r=(0,O.iH)(V.tO,"unit_floor_plans/".concat(s.id,"/").concat(a,"/").concat(n,"/").concat(e.name));try{await (0,O.KV)(r,e);let l=await (0,O.Jt)(r),i=(0,_.JU)(V.db,"units",s.id);await (0,_.r7)(i,{["floorPlans.".concat(a,".").concat(n)]:l}),t({title:"Επιτυχία",description:"Η κάτοψη ανέβηκε."}),h(null)}catch(e){t({variant:"destructive",title:"Σφάλμα",description:"Η μεταφόρτωση απέτυχε: ".concat(e.message)})}finally{j(!1)}},N=async(e,a)=>{try{let n=(0,_.JU)(V.db,"units",s.id);await (0,_.r7)(n,{["floorPlans.".concat(e,".").concat(a)]:null}),t({title:"Επιτυχία",description:"Η κάτοψη διαγράφηκε."})}catch(e){t({variant:"destructive",title:"Σφάλμα",description:"Η διαγραφή απέτυχε: ".concat(e.message)})}};return o?(0,a.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)("div",{className:"space-y-6",children:Y.map(e=>{let{id:t,label:n}=e;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:n})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)(b.iA,{children:[(0,a.jsx)(b.xD,{children:(0,a.jsxs)(b.SC,{children:[(0,a.jsx)(b.ss,{children:"Επίπεδο"}),(0,a.jsx)(b.ss,{children:"Κάτοψη"}),(0,a.jsx)(b.ss,{className:"w-[350px]",children:"Ενέργειες"})]})}),(0,a.jsx)(b.RM,{children:i.map(e=>{var n,l,i;let d=null===(l=s.floorPlans)||void 0===l?void 0:null===(n=l[e.id])||void 0===n?void 0:n[t],o=f&&(null==m?void 0:m.floorId)===e.id&&(null==m?void 0:m.planType)===t;return(0,a.jsxs)(b.SC,{children:[(0,a.jsx)(b.pj,{className:"font-semibold",children:e.level}),(0,a.jsx)(b.pj,{children:d?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate max-w-xs",children:null===(i=d.split("%2F").pop())||void 0===i?void 0:i.split("?")[0]}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",onClick:()=>window.open(d,"_blank"),children:(0,a.jsx)(E.Z,{className:"h-4 w-4"})}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>N(e.id,t),children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})})]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"Δεν έχει οριστεί"})}),(0,a.jsx)(b.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.I,{type:"file",accept:".pdf",className:"text-xs h-9",onChange:s=>v(s,e.id,t)}),(0,a.jsxs)(r.z,{size:"sm",onClick:g,disabled:f||(null==m?void 0:m.floorId)!==e.id||(null==m?void 0:m.planType)!==t,children:[o?(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(X.Z,{className:"mr-2 h-4 w-4"}),"Ανέβασμα"]})]})})]},e.id)})})]})})]},t)})})}var G=t(44828),M=t(77076),L=t(66648),Q=t(54662);function B(e){let{unit:s}=e,{toast:t}=(0,W.pm)(),[i,d]=(0,n.useState)(null),[o,u]=(0,n.useState)(!1),m=async()=>{if(!i||0===i.length)return;u(!0);let e=Array.from(i).map(async e=>{let t=(0,O.iH)(V.tO,"unit_photos/".concat(s.id,"/").concat(Date.now(),"_").concat(e.name));return await (0,O.KV)(t,e),{url:await (0,O.Jt)(t),name:e.name,uploadedAt:_.EK.now()}});try{let a=await Promise.all(e),n=(0,_.JU)(V.db,"units",s.id);await (0,_.r7)(n,{photos:(0,_.vr)(...a)}),t({title:"Επιτυχία",description:"".concat(i.length," φωτογραφίες ανέβηκαν.")}),d(null);let r=document.getElementById("photo-upload-input");r&&(r.value="")}catch(e){t({variant:"destructive",title:"Σφάλμα",description:"Η μεταφόρτωση απέτυχε: ".concat(e.message)})}finally{u(!1)}},h=async e=>{try{let a=(0,O.iH)(V.tO,e.url);await (0,O.oq)(a);let n=(0,_.JU)(V.db,"units",s.id);await (0,_.r7)(n,{photos:(0,_.Ab)(e)}),t({title:"Επιτυχία",description:"Η φωτογραφία διαγράφηκε."})}catch(e){t({variant:"destructive",title:"Σφάλμα",description:"Η διαγραφή απέτυχε: ".concat(e.message)})}};return(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Φωτογραφίες Ακινήτου"}),(0,a.jsx)(l.SZ,{children:"Ανεβάστε και διαχειριστείτε τις φωτογραφίες που σχετίζονται με αυτό το ακίνητο."})]}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[(0,a.jsx)(x.I,{id:"photo-upload-input",type:"file",multiple:!0,accept:"image/*",onChange:e=>{d(e.target.files)}}),(0,a.jsxs)(r.z,{onClick:m,disabled:o||!i,children:[o?(0,a.jsx)(c.Z,{className:"mr-2 animate-spin"}):(0,a.jsx)(X.Z,{className:"mr-2"}),o?"Ανέβασμα...":"Ανέβασμα"]})]}),s.photos&&s.photos.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.photos.map((e,s)=>(0,a.jsxs)("div",{className:"relative group border rounded-lg overflow-hidden aspect-square",children:[(0,a.jsxs)(Q.Vq,{children:[(0,a.jsx)(Q.hg,{asChild:!0,children:(0,a.jsxs)("div",{className:"relative w-full h-full cursor-pointer",children:[(0,a.jsx)(L.default,{src:e.url,alt:e.name||"Unit Photo ".concat(s+1),fill:!0,sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",className:"object-contain"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)(G.Z,{className:"h-10 w-10 text-white"})})]})}),(0,a.jsx)(Q.cZ,{className:"max-w-4xl h-[90vh] p-2 bg-transparent border-none flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(L.default,{src:e.url,alt:e.name||"Unit Photo ".concat(s+1),fill:!0,sizes:"100vw",className:"object-contain"})})})]}),(0,a.jsx)("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(r.z,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>h(e),children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})})})]},s))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground h-40 border-2 border-dashed rounded-lg",children:[(0,a.jsx)(M.Z,{className:"h-10 w-10"}),(0,a.jsx)("p",{className:"mt-2 text-sm",children:"Δεν υπάρχουν φωτογραφίες για αυτό το ακίνητο."})]})]})]})}let q=(0,t(57818).default)(()=>Promise.all([t.e(2885),t.e(8899)]).then(t.bind(t,78899)),{loadableGenerated:{webpack:()=>[78899]},loading:()=>(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(c.Z,{className:"h-6 w-6 animate-spin"})}),ssr:!1});function H(e){let{unit:s,attachments:t,unitForm:n,attachmentForm:x,isSubmitting:u,isAttachmentDialogOpen:m,editingAttachment:h,onUnitSubmit:f,onSubmitAttachment:j,handleAttachmentDialogChange:p,handleAddNewAttachment:v,handleEditAttachment:b,handleDeleteAttachment:y,goBack:w,getStatusClass:C}=e,{isDirty:k}=n.formState;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-fit",type:"button",onClick:w,children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Επιστροφή"]}),(0,a.jsxs)(r.z,{type:"submit",form:"unit-details-form",disabled:u||!k,children:[u&&(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Αποθήκευση Ακινήτου"]})]}),(0,a.jsxs)(D.mQ,{defaultValue:"general",className:"w-full",children:[(0,a.jsxs)(D.dr,{className:"grid w-full grid-cols-5",children:[(0,a.jsx)(D.SP,{value:"general",children:"Γενικά"}),(0,a.jsx)(D.SP,{value:"floor-plans",children:"Κατόψεις"}),(0,a.jsx)(D.SP,{value:"contracts",children:"Συμβόλαια"}),(0,a.jsx)(D.SP,{value:"photos",children:"Φωτογραφίες"}),(0,a.jsx)(D.SP,{value:"videos",children:"Videos"})]}),(0,a.jsx)(D.nU,{value:"general",className:"mt-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)(i.l0,{...n,children:(0,a.jsx)("form",{id:"unit-details-form",onSubmit:f,children:(0,a.jsx)(g,{form:n,unit:s,getStatusClass:C})})}),(0,a.jsx)(T,{unitName:s.name}),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Παρακολουθήματα"}),(0,a.jsxs)(r.z,{type:"button",size:"sm",variant:"outline",onClick:v,children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Προσθήκη"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Διαχειριστείτε τις θέσεις στάθμευσης, αποθήκες κ.λπ. που συνδέονται με αυτό το ακίνητο."}),(0,a.jsx)(R,{units:t.map(e=>({...e,id:e.id})),onEditUnit:b,onDeleteUnit:y})]})})]})}),(0,a.jsx)(D.nU,{value:"floor-plans",className:"mt-4",children:(0,a.jsx)(F,{unit:s})}),(0,a.jsx)(D.nU,{value:"contracts",className:"mt-4",children:(0,a.jsx)(q,{unit:s})}),(0,a.jsx)(D.nU,{value:"photos",className:"mt-4",children:(0,a.jsx)(B,{unit:s})}),(0,a.jsx)(D.nU,{value:"videos",className:"mt-4",children:(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Η διαχείριση βίντεο θα είναι διαθέσιμη σύντομα."})})})})]}),(0,a.jsx)(N.a,{open:m,onOpenChange:p,form:x,onSubmit:j,isSubmitting:u,editingAttachment:h})]})}},71334:function(e,s,t){t.d(s,{k:function(){return i}});var a=t(57437),n=t(44541),r=t(93363),l=t(16352);function i(e){let{control:s}=e;return(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-2",children:l.dn.map(e=>(0,a.jsx)(r.Wi,{control:s,name:"amenities",render:s=>{var t;let{field:l}=s;return(0,a.jsxs)(r.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,a.jsx)(r.NI,{children:(0,a.jsx)(n.X,{checked:null===(t=l.value)||void 0===t?void 0:t.includes(e.id),onCheckedChange:s=>s?l.onChange([...l.value||[],e.id]):l.onChange((l.value||[]).filter(s=>s!==e.id))})}),(0,a.jsx)(r.lX,{className:"font-normal",children:e.label})]})}},e.id))})}},72372:function(e,s,t){t.d(s,{q:function(){return i}});var a=t(57437),n=t(93363),r=t(77209);let l=[{name:"netArea",label:"Καθαρά"},{name:"grossArea",label:"Μικτά"},{name:"commonArea",label:"Κοινόχρηστα"},{name:"semiOutdoorArea",label:"Ημιυπαίθριοι"},{name:"architecturalProjectionsArea",label:"Αρχ. Προεξοχές"},{name:"balconiesArea",label:"Μπαλκόνια"}];function i(e){let{control:s}=e;return(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map(e=>(0,a.jsx)(n.Wi,{control:s,name:e.name,render:s=>{let{field:t}=s;return(0,a.jsxs)(n.xJ,{children:[(0,a.jsx)(n.lX,{children:e.label}),(0,a.jsx)(n.NI,{children:(0,a.jsx)(r.I,{type:"number",...t})}),(0,a.jsx)(n.zG,{})]})}},e.name))})}},48484:function(e,s,t){t.d(s,{f:function(){return d}});var a=t(2265),n=t(25171),r=t(57437),l="horizontal",i=["horizontal","vertical"],c=a.forwardRef((e,s)=>{let{decorative:t,orientation:a=l,...c}=e,d=i.includes(a)?a:l;return(0,r.jsx)(n.WV.div,{"data-orientation":d,...t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var d=c}}]);