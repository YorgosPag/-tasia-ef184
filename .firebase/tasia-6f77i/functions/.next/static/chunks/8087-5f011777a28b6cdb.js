"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8087],{91773:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},16463:function(e,t,a){var r=a(71169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},54662:function(e,t,a){a.d(t,{$N:function(){return x},Be:function(){return b},GG:function(){return u},Vq:function(){return l},cN:function(){return f},cZ:function(){return h},fK:function(){return m},hg:function(){return d}});var r=a(57437),n=a(2265),s=a(13304),o=a(74697),i=a(49354);let l=s.fC,d=s.xz,c=s.h_,u=s.x8,p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});p.displayName=s.aV.displayName;let h=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{}),(0,r.jsxs)(s.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=s.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});x.displayName=s.Dx.displayName;let b=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});b.displayName=s.dk.displayName},24669:function(e,t,a){a.d(t,{K:function(){return b},a:function(){return g}});var r=a(57437),n=a(2265),s=a(59917),o=a(89733),i=a(54662),l=a(93363),d=a(77209),c=a(3274),u=a(91773),p=a(2128),h=a(60343),m=a(31721),f=a(86763),x=a(16463);let b=s.Ry({id:s.Z_().optional(),identifier:s.Z_().optional(),type:s.Km(["parking","storage"],{required_error:"Ο τύπος είναι υποχρεωτικός."}),details:s.Z_().optional(),area:s.Z_().transform(e=>e.trim()).refine(e=>""===e||!isNaN(parseFloat(e)),{message:"Το εμβαδόν πρέπει να είναι αριθμός."}).optional(),price:s.Z_().transform(e=>e.trim()).refine(e=>""===e||!isNaN(parseFloat(e)),{message:"Η τιμή πρέπει να είναι αριθμός."}).optional(),photoUrl:s.Z_().url({message:"Το URL της φωτογραφίας δεν είναι έγκυρο."}).or(s.i0("")).optional(),sharePercentage:s.Z_().transform(e=>e.trim()).refine(e=>""===e||!isNaN(parseFloat(e))&&parseFloat(e)>=0,{message:"Το ποσοστό πρέπει να είναι θετικός αριθμός."}).optional(),isBundle:s.O7().default(!1),isStandalone:s.O7().default(!1)}).refine(e=>!(e.isBundle&&e.isStandalone),{message:"Cannot be both a bundle and standalone.",path:["isStandalone"]});function g(e){let{open:t,onOpenChange:a,form:s,onSubmit:b,isSubmitting:g,editingAttachment:j}=e,{toast:y}=(0,f.pm)(),v=(0,x.useParams)().id,[N,k]=(0,n.useState)(!1),w=async()=>{if(!v){y({variant:"destructive",title:"Σφάλμα",description:"Δεν βρέθηκε το γονικό ακίνητο."});return}let e=s.getValues("type");k(!0);try{let t=await (0,m.rr)(v,e);s.setValue("identifier",t),s.setValue("details",t),y({title:"Επιτυχία",description:"Προτεινόμενος κωδικός: ".concat(t)})}catch(e){y({variant:"destructive",title:"Σφάλμα Δημιουργίας Κωδικού",description:e.message})}finally{k(!1)}};return(0,r.jsx)(i.Vq,{open:t,onOpenChange:a,children:(0,r.jsxs)(i.cZ,{children:[(0,r.jsx)(i.fK,{children:(0,r.jsxs)(i.$N,{children:[j?"Επεξεργασία":"Νέο"," Παρακολούθημα"]})}),(0,r.jsx)(l.l0,{...s,children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsx)(l.Wi,{control:s.control,name:"type",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{children:[(0,r.jsx)(l.lX,{children:"Τύπος"}),(0,r.jsxs)(p.Ph,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(l.NI,{children:(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"parking",children:"Θέση Στάθμευσης"}),(0,r.jsx)(p.Ql,{value:"storage",children:"Αποθήκη"})]})]}),(0,r.jsx)(l.zG,{})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"details",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{children:[(0,r.jsx)(l.lX,{children:"Κωδικός / Λεπτομέρειες"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.NI,{children:(0,r.jsx)(d.I,{...t,placeholder:"π.χ. B1D1S1"})}),(0,r.jsx)(o.z,{type:"button",variant:"outline",size:"icon",onClick:w,disabled:N,title:"Αυτόματη δημιουργία κωδικού",children:N?(0,r.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(u.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(l.zG,{})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"area",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{children:[(0,r.jsx)(l.lX,{children:"Εμβαδόν (τ.μ.)"}),(0,r.jsx)(l.NI,{children:(0,r.jsx)(d.I,{type:"number",...t})}),(0,r.jsx)(l.zG,{})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"price",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{children:[(0,r.jsx)(l.lX,{children:"Τιμή (€)"}),(0,r.jsx)(l.NI,{children:(0,r.jsx)(d.I,{type:"number",...t})}),(0,r.jsx)(l.zG,{})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"sharePercentage",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{children:[(0,r.jsx)(l.lX,{children:"Ποσοστό (%)"}),(0,r.jsx)(l.NI,{children:(0,r.jsx)(d.I,{type:"number",...t})}),(0,r.jsx)(l.zG,{})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"isBundle",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,r.jsx)("div",{className:"space-y-0.5",children:(0,r.jsx)(l.lX,{children:"Πακέτο με το Unit"})}),(0,r.jsx)(l.NI,{children:(0,r.jsx)(h.r,{checked:t.value,onCheckedChange:e=>{t.onChange(e),e&&s.setValue("isStandalone",!1)}})})]})}}),(0,r.jsx)(l.Wi,{control:s.control,name:"isStandalone",render:e=>{let{field:t}=e;return(0,r.jsxs)(l.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,r.jsx)("div",{className:"space-y-0.5",children:(0,r.jsx)(l.lX,{children:"Ανεξάρτητο"})}),(0,r.jsx)(l.NI,{children:(0,r.jsx)(h.r,{checked:t.value,onCheckedChange:e=>{t.onChange(e),e&&s.setValue("isBundle",!1)}})})]})}}),(0,r.jsxs)(i.cN,{children:[(0,r.jsx)(o.z,{type:"button",variant:"ghost",onClick:()=>a(!1),children:"Ακύρωση"}),(0,r.jsxs)(o.z,{type:"submit",disabled:g,children:[g&&(0,r.jsx)(c.Z,{className:"mr-2 animate-spin"}),"Αποθήκευση"]})]})]})})]})})}},16352:function(e,t,a){a.d(t,{Vs:function(){return i},Y5:function(){return c},d5:function(){return n},dn:function(){return o},mN:function(){return l},mW:function(){return u},o4:function(){return s},u5:function(){return d}});var r=a(59917);let n=r.Ry({floorIds:r.IX(r.Z_()).nonempty({message:"Πρέπει να επιλέξετε τουλάχιστον έναν όροφο."}),identifier:r.Z_().min(1,{message:"Ο κωδικός είναι υποχρεωτικός. Δημιουργήστε τον αυτόματα."}),name:r.Z_().min(1,{message:"Το όνομα είναι υποχρεωτικό."}),type:r.Z_().min(1,{message:"Ο τύπος είναι υποχρεωτικός."}),status:r.Km(["Διαθέσιμο","Κρατημένο","Πωλημένο","Οικοπεδούχος","Προς Ενοικίαση"]),netArea:r.Z_().optional(),grossArea:r.Z_().optional(),commonArea:r.Z_().optional(),semiOutdoorArea:r.Z_().optional(),architecturalProjectionsArea:r.Z_().optional(),balconiesArea:r.Z_().optional(),price:r.Z_().optional(),bedrooms:r.Z_().optional(),bathrooms:r.Z_().optional(),orientation:r.Z_().optional(),kitchenLayout:r.Z_().optional(),description:r.Z_().optional(),isPenthouse:r.O7().default(!1),amenities:r.IX(r.Z_()).optional(),levelSpan:r.Rx().int().min(0).default(0)}),s=["Μεζονέτα","Κατάστημα"],o=[{id:"parking",label:"Θέση Στάθμευσης"},{id:"elevator",label:"Ασανσέρ"},{id:"securityDoor",label:"Πόρτα Ασφαλείας"},{id:"alarm",label:"Συναγερμός"},{id:"furnished",label:"Επιπλωμένο"},{id:"storage",label:"Αποθήκη"},{id:"fireplace",label:"Τζάκι"},{id:"balcony",label:"Βεράντα/Μπαλκόνι"},{id:"internalStairs",label:"Εσωτερική Σκάλα"},{id:"garden",label:"Κήπος"},{id:"pool",label:"Πισίνα"},{id:"playroom",label:"Playroom"}],i=["Ανατολικός","Δυτικός","Βόρειος","Νότιος","Βορειοανατολικός","Βορειοδυτικός","Νοτιοανατολικός","Νοτιοδυτικός","Διαμπερές"],l=["Σαλοκουζίνα (Ενιαίος χώρος)","Ξεχωριστή Κουζίνα","Χωρίς Κουζίνα/Σαλόνι"];function d(e){let t={identifier:e.identifier,name:e.name,type:e.type||"",status:e.status,floorIds:e.floorIds,netArea:e.netArea?parseFloat(e.netArea):void 0,grossArea:e.grossArea?parseFloat(e.grossArea):void 0,commonArea:e.commonArea?parseFloat(e.commonArea):void 0,semiOutdoorArea:e.semiOutdoorArea?parseFloat(e.semiOutdoorArea):void 0,architecturalProjectionsArea:e.architecturalProjectionsArea?parseFloat(e.architecturalProjectionsArea):void 0,balconiesArea:e.balconiesArea?parseFloat(e.balconiesArea):void 0,price:e.price?parseFloat(e.price):void 0,bedrooms:e.bedrooms?parseInt(e.bedrooms,10):void 0,bathrooms:e.bathrooms,orientation:e.orientation||"",kitchenLayout:e.kitchenLayout||"",description:e.description||"",isPenthouse:e.isPenthouse,amenities:e.amenities||[],levelSpan:e.levelSpan};return Object.keys(t).forEach(e=>(void 0===t[e]||""===t[e])&&delete t[e]),!1===e.isPenthouse&&(t.isPenthouse=!1),t}function c(e){var t;let a={identifier:e.identifier,type:e.type,details:e.details,area:e.area?parseFloat(e.area):void 0,price:e.price?parseFloat(e.price):void 0,sharePercentage:e.sharePercentage?parseFloat(e.sharePercentage):void 0,isBundle:e.isBundle,isStandalone:e.isStandalone,photoUrl:(null===(t=e.photoUrl)||void 0===t?void 0:t.trim())||void 0};return Object.keys(a).forEach(e=>(void 0===a[e]||""===a[e])&&delete a[e]),!1===e.isBundle&&(a.isBundle=!1),!1===e.isStandalone&&(a.isStandalone=!1),a}let u=e=>{switch(e){case"Πωλημένο":return"bg-red-500 hover:bg-red-600 text-white";case"Κρατημένο":return"bg-yellow-500 hover:bg-yellow-600 text-white";case"Διαθέσιμο":return"bg-green-500 hover:bg-green-600 text-white";case"Προς Ενοικίαση":return"bg-purple-500 hover:bg-purple-600 text-white";case"Οικοπεδούχος":return"bg-orange-500 hover:bg-orange-600 text-white";default:return"bg-gray-500 hover:bg-gray-600 text-white"}}},9646:function(e,t,a){a.d(t,{bU:function(){return k},fC:function(){return N}});var r=a(2265),n=a(78149),s=a(1584),o=a(98324),i=a(91715),l=a(47250),d=a(75238),c=a(25171),u=a(57437),p="Switch",[h,m]=(0,o.b)(p),[f,x]=h(p),b=r.forwardRef((e,t)=>{let{__scopeSwitch:a,name:o,checked:l,defaultChecked:d,required:h,disabled:m,value:x="on",onCheckedChange:b,form:g,...j}=e,[N,k]=r.useState(null),w=(0,s.e)(t,e=>k(e)),Z=r.useRef(!1),P=!N||g||!!N.closest("form"),[_,S]=(0,i.T)({prop:l,defaultProp:null!=d&&d,onChange:b,caller:p});return(0,u.jsxs)(f,{scope:a,checked:_,disabled:m,children:[(0,u.jsx)(c.WV.button,{type:"button",role:"switch","aria-checked":_,"aria-required":h,"data-state":v(_),"data-disabled":m?"":void 0,disabled:m,value:x,...j,ref:w,onClick:(0,n.M)(e.onClick,e=>{S(e=>!e),P&&(Z.current=e.isPropagationStopped(),Z.current||e.stopPropagation())})}),P&&(0,u.jsx)(y,{control:N,bubbles:!Z.current,name:o,value:x,checked:_,required:h,disabled:m,form:g,style:{transform:"translateX(-100%)"}})]})});b.displayName=p;var g="SwitchThumb",j=r.forwardRef((e,t)=>{let{__scopeSwitch:a,...r}=e,n=x(g,a);return(0,u.jsx)(c.WV.span,{"data-state":v(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});j.displayName=g;var y=r.forwardRef((e,t)=>{let{__scopeSwitch:a,control:n,checked:o,bubbles:i=!0,...c}=e,p=r.useRef(null),h=(0,s.e)(p,t),m=(0,l.D)(o),f=(0,d.t)(n);return r.useEffect(()=>{let e=p.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==o&&t){let a=new Event("click",{bubbles:i});t.call(e,o),e.dispatchEvent(a)}},[m,o,i]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...c,tabIndex:-1,ref:h,style:{...c.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var N=b,k=j}}]);