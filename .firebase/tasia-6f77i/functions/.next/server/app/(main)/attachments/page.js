(()=>{var e={};e.id=7695,e.ids=[7695],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>o}),r(20799),r(58522),r(35866),r(32029);var a=r(23191),s=r(88716),n=r(37922),i=r.n(n),d=r(95231),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);r.d(t,c);let o=["",{children:["(main)",{children:["attachments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,20799)),"/home/user/studio/src/app/(main)/attachments/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"/home/user/studio/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],l=["/home/user/studio/src/app/(main)/attachments/page.tsx"],u="/(main)/attachments/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/attachments/page",pathname:"/attachments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46120:(e,t,r)=>{let a={"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.clearTasiaDataAction),"650cf0f3f0bd18aeafc63b5f69071e5de8f11976":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.generateNextAttachmentIdentifierAction),"7040ad050d67ddd3204a1b169328d1d9b63993a9":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.findOrCreateUserAction),"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.seedNestorDataAction),"948e70e8c58987240e5319b60bd1d6a596ff2cc9":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.clearNestorDataAction),"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0":()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.generateNextUnitIdentifierAction),bb940dc7dad8d371ecc54c42ecedc64f64a96fbe:()=>Promise.resolve().then(r.bind(r,21220)).then(e=>e.seedTasiaDataAction)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa":s.bind(null,"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa"),"650cf0f3f0bd18aeafc63b5f69071e5de8f11976":s.bind(null,"650cf0f3f0bd18aeafc63b5f69071e5de8f11976"),"7040ad050d67ddd3204a1b169328d1d9b63993a9":s.bind(null,"7040ad050d67ddd3204a1b169328d1d9b63993a9"),"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d":s.bind(null,"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d"),"948e70e8c58987240e5319b60bd1d6a596ff2cc9":s.bind(null,"948e70e8c58987240e5319b60bd1d6a596ff2cc9"),"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0":s.bind(null,"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0"),bb940dc7dad8d371ecc54c42ecedc64f64a96fbe:s.bind(null,"bb940dc7dad8d371ecc54c42ecedc64f64a96fbe")}},42568:(e,t,r)=>{Promise.resolve().then(r.bind(r,43904))},69508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},43904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(10326),s=r(17577),n=r(76),i=r(90445),d=r(84097),c=r(49260),o=r(77506),l=r(29752),u=r(17666),f=r(74723),p=r(74064),m=r(34111),x=r(90434),b=r(41156),h=r(91664),g=r(69508),j=r(38443);function v({attachments:e,unitsMap:t,onEdit:r}){return(0,a.jsxs)(b.iA,{children:[a.jsx(b.xD,{children:(0,a.jsxs)(b.SC,{children:[a.jsx(b.ss,{children:"Τύπος"}),a.jsx(b.ss,{children:"Λεπτομέρειες"}),a.jsx(b.ss,{children:"Συνδεδεμένο Ακίνητο"}),a.jsx(b.ss,{children:"Κατάσταση"}),a.jsx(b.ss,{className:"text-right",children:"Ενέργειες"})]})}),a.jsx(b.RM,{children:e.map(e=>{let s=e.unitId?t.get(e.unitId):null;return(0,a.jsxs)(b.SC,{className:"group",children:[a.jsx(b.pj,{className:"font-medium capitalize",children:e.type}),a.jsx(b.pj,{children:e.details||"N/A"}),a.jsx(b.pj,{children:s?(0,a.jsxs)(x.default,{href:`/units/${s.id}`,className:"text-primary hover:underline",children:[s.name," (",s.identifier,")"]}):a.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),a.jsx(b.pj,{children:e.isStandalone?a.jsx(j.C,{variant:"secondary",children:"Ανεξάρτητο"}):e.isBundle?a.jsx(j.C,{variant:"default",children:"Πακέτο"}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(b.pj,{className:"text-right",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsxs)(h.z,{variant:"ghost",size:"icon",title:"Επεξεργασία",onClick:()=>r(e),children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Επεξεργασία"})]})})})]},e.id)})})]})}function y(){let{isEditor:e}=(0,c.a)(),{toast:t}=(0,d.pm)(),[r,x]=(0,s.useState)([]),[b,h]=(0,s.useState)([]),[g,j]=(0,s.useState)(!0),[y,N]=(0,s.useState)(!1),[w,P]=(0,s.useState)(null),[q,C]=(0,s.useState)(!1),S=new Map(b.map(e=>[e.id,e])),_=(0,f.cI)({resolver:(0,p.F)(u.K),defaultValues:{type:"parking",identifier:"",details:"",area:"",price:"",sharePercentage:"",isBundle:!0,isStandalone:!1}}),R=async e=>{C(!0);let r=(0,m.Y5)(e);try{w?(await (0,n.r7)((0,n.JU)(i.db,"attachments",w.id),r),t({title:"Επιτυχία",description:"Το παρακολούθημα ενημερώθηκε."})):t({variant:"destructive",title:"Σφάλμα",description:"Δεν είναι δυνατή η δημιουργία αυτόνομου παρακολουθήματος από εδώ."}),N(!1)}catch(e){console.error("Failed to save attachment",e),t({variant:"destructive",title:"Σφάλμα",description:"Η αποθήκευση απέτυχε."})}finally{C(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Παρακολουθήματα"}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{children:["Λίστα Παρακολουθημάτων (",r.length,")"]})}),a.jsx(l.aY,{children:g?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx(o.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsx(v,{attachments:r,unitsMap:S,onEdit:(e=null)=>{P(e),e?_.reset(e):_.reset({type:"parking",identifier:"",details:"",area:"",price:"",sharePercentage:"",isBundle:!0,isStandalone:!1}),N(!0)}})})]}),a.jsx(u.a,{open:y,onOpenChange:N,form:_,onSubmit:_.handleSubmit(R),isSubmitting:q,editingAttachment:w})]})}},38443:(e,t,r)=>{"use strict";r.d(t,{C:()=>d});var a=r(10326);r(17577);var s=r(79360),n=r(51223);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...r}){return a.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>l,eW:()=>u,ll:()=>c});var a=r(10326),s=r(17577),n=r(51223);let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent";let u=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},41156:(e,t,r)=>{"use strict";r.d(t,{RM:()=>c,SC:()=>o,iA:()=>i,pj:()=>u,ss:()=>l,xD:()=>d});var a=r(10326),s=r(17577),n=r(51223);let i=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));c.displayName="TableBody",s.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));l.displayName="TableHead";let u=s.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},20799:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>d});var a=r(68570);let s=(0,a.createProxy)(String.raw`/home/user/studio/src/app/(main)/attachments/page.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let d=(0,a.createProxy)(String.raw`/home/user/studio/src/app/(main)/attachments/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9733,2401,7119,2880,180,7729,3241,560],()=>r(77342));module.exports=a})();