(()=>{var e={};e.id=2480,e.ids=[2480],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},58110:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(70323),a(58522),a(35866),a(32029);var r=a(23191),s=a(88716),l=a(37922),n=a.n(l),i=a(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let o=["",{children:["(main)",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,70323)),"/home/user/studio/src/app/(main)/projects/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58522)),"/home/user/studio/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,32029)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/user/studio/src/app/(main)/projects/page.tsx"],u="/(main)/projects/page",f={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46120:(e,t,a)=>{let r={"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.clearTasiaDataAction),"650cf0f3f0bd18aeafc63b5f69071e5de8f11976":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.generateNextAttachmentIdentifierAction),"7040ad050d67ddd3204a1b169328d1d9b63993a9":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.findOrCreateUserAction),"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.seedNestorDataAction),"948e70e8c58987240e5319b60bd1d6a596ff2cc9":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.clearNestorDataAction),"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0":()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.generateNextUnitIdentifierAction),bb940dc7dad8d371ecc54c42ecedc64f64a96fbe:()=>Promise.resolve().then(a.bind(a,21220)).then(e=>e.seedTasiaDataAction)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa":s.bind(null,"1929d9b4a55ccca6fd5c13ec1455093a8c2a1bfa"),"650cf0f3f0bd18aeafc63b5f69071e5de8f11976":s.bind(null,"650cf0f3f0bd18aeafc63b5f69071e5de8f11976"),"7040ad050d67ddd3204a1b169328d1d9b63993a9":s.bind(null,"7040ad050d67ddd3204a1b169328d1d9b63993a9"),"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d":s.bind(null,"7c1778c43d4bcad59f28beb8c7aeb078136cdc4d"),"948e70e8c58987240e5319b60bd1d6a596ff2cc9":s.bind(null,"948e70e8c58987240e5319b60bd1d6a596ff2cc9"),"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0":s.bind(null,"9569bcfade6c590b3d19ca071936f2c3b6bbf4e0"),bb940dc7dad8d371ecc54c42ecedc64f64a96fbe:s.bind(null,"bb940dc7dad8d371ecc54c42ecedc64f64a96fbe")}},57092:(e,t,a)=>{Promise.resolve().then(a.bind(a,97493))},13961:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},33265:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(43353),s=a.n(r)},43353:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=a(91174);a(10326),a(17577);let s=r._(a(77028));function l(e,t){var a;let r={loading:e=>{let{error:t,isLoading:a,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let l={...r,...t};return(0,s.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=a(94129);function s(e){let{reason:t,children:a}=e;throw new r.BailoutToCSRError(t)}},77028:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(10326),s=a(17577),l=a(933),n=a(46618);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},a=(0,s.lazy)(()=>t.loader().then(i)),o=t.loading;function c(e){let i=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.PreloadCss,{moduleIds:t.modules}),(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(s.Suspense,{fallback:i,children:d})}return c.displayName="LoadableComponent",c}},46618:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let r=a(10326),s=a(55403);function l(e){let{moduleIds:t}=e,a=(0,s.getExpectedRequestStore)("next/dynamic css"),l=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},97493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var r=a(10326),s=a(17577),l=a(35047),n=a(76),i=a(90445),d=a(74723),o=a(74064),c=a(84097),u=a(78632),f=a(51641),m=a(64411),x=a(17119),p=a(24118),h=a(9969),j=a(41190),b=a(82015),g=a(29280),y=a(51027),v=a(33194),N=a(91664),w=a(77506),C=a(37358),P=a(51223),R=a(98181),_=a(15099);let I=x.Ry({id:x.Z_().optional(),title:x.Z_().min(1,{message:"Ο τίτλος είναι υποχρεωτικός."}),companyId:x.Z_().min(1,{message:"Η εταιρεία είναι υποχρεωτική."}),location:x.Z_().min(1,{message:"Η τοποθεσία είναι υποχρεωτική."}),description:x.Z_().optional(),deadline:x.hT({required_error:"Η προθεσμία είναι υποχρεωτική."}),status:x.Km(["Ενεργό","Σε εξέλιξη","Ολοκληρωμένο"]),photoUrl:x.Z_().url({message:"Το URL δεν είναι έγκυρο."}).or(x.i0("")).optional(),tags:x.Z_().optional()});function k({open:e,onOpenChange:t,form:a,onSubmit:s,isSubmitting:l,isLoading:n,editingProject:i,companies:d}){return r.jsx(p.Vq,{open:e,onOpenChange:t,children:(0,r.jsxs)(p.cZ,{className:"sm:max-w-lg",children:[(0,r.jsxs)(p.fK,{children:[(0,r.jsxs)(p.$N,{children:[i?"Επεξεργασία":"Δημιουργία Νέου"," Έργου"]}),r.jsx(p.Be,{children:i?"Ενημερώστε τις πληροφορίες του έργου.":"Συμπληρώστε τις παρακάτω πληροφορίες για να δημιουργήσετε ένα νέο έργο."})]}),r.jsx(h.l0,{...a,children:(0,r.jsxs)("form",{onSubmit:s,className:"grid gap-4 py-4 max-h-[80vh] overflow-y-auto pr-6",children:[r.jsx(h.Wi,{control:a.control,name:"title",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Τίτλος Έργου"}),r.jsx(h.NI,{children:r.jsx(j.I,{placeholder:"π.χ. Ανακαίνιση Κτιρίου",...e})}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"companyId",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Εταιρεία"}),(0,r.jsxs)(g.Ph,{onValueChange:e.onChange,defaultValue:e.value,value:e.value||"",children:[r.jsx(h.NI,{children:r.jsx(g.i4,{children:r.jsx(g.ki,{placeholder:"Επιλέξτε εταιρεία..."})})}),r.jsx(g.Bw,{children:n?r.jsx("div",{className:"flex items-center justify-center p-2",children:r.jsx(w.Z,{className:"h-4 w-4 animate-spin"})}):d.map(e=>r.jsx(g.Ql,{value:e.id,children:e.name},e.id))})]}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"location",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Τοποθεσία"}),r.jsx(h.NI,{children:r.jsx(j.I,{placeholder:"π.χ. Αμπελόκηποι, Αθήνα",...e})}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"photoUrl",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"URL Φωτογραφίας (Προαιρετικό)"}),r.jsx(h.NI,{children:r.jsx(j.I,{placeholder:"https://example.com/project.jpg",...e})}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"tags",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Tags (χωρισμένα με κόμμα)"}),r.jsx(h.NI,{children:r.jsx(j.I,{placeholder:"π.χ. residential, luxury",...e})}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"description",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Περιγραφή (Προαιρετικό)"}),r.jsx(h.NI,{children:r.jsx(b.g,{placeholder:"Σύντομη περιγραφή του έργου...",...e})}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"deadline",render:({field:e})=>(0,r.jsxs)(h.xJ,{className:"flex flex-col",children:[r.jsx(h.lX,{children:"Προθεσμία"}),(0,r.jsxs)(y.J2,{children:[r.jsx(y.xo,{asChild:!0,children:r.jsx(h.NI,{children:(0,r.jsxs)(N.z,{variant:"outline",className:(0,P.cn)("w-full pl-3 text-left font-normal",!e.value&&"text-muted-foreground"),children:[e.value?(0,R.WU)(new Date(e.value),"PPP",{locale:_.el}):r.jsx("span",{children:"Επιλέξτε ημερομηνία"}),r.jsx(C.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),r.jsx(y.yk,{className:"w-auto p-0",align:"start",children:r.jsx(v.f,{mode:"single",selected:e.value?new Date(e.value):void 0,onSelect:e.onChange,disabled:e=>e<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),r.jsx(h.zG,{})]})}),r.jsx(h.Wi,{control:a.control,name:"status",render:({field:e})=>(0,r.jsxs)(h.xJ,{children:[r.jsx(h.lX,{children:"Κατάσταση (Εμπορική)"}),(0,r.jsxs)(g.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(h.NI,{children:r.jsx(g.i4,{children:r.jsx(g.ki,{placeholder:"Επιλέξτε κατάσταση"})})}),(0,r.jsxs)(g.Bw,{children:[r.jsx(g.Ql,{value:"Ενεργό",children:"Ενεργό"}),r.jsx(g.Ql,{value:"Σε εξέλιξη",children:"Σε εξέλιξη"}),r.jsx(g.Ql,{value:"Ολοκληρωμένο",children:"Ολοκληρωμένο"})]})]}),r.jsx(h.zG,{})]})}),(0,r.jsxs)(p.cN,{children:[r.jsx(p.GG,{asChild:!0,children:r.jsx(N.z,{type:"button",variant:"outline",disabled:l,children:"Ακύρωση"})}),(0,r.jsxs)(N.z,{type:"submit",disabled:l||n,children:[l&&r.jsx(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Αποθήκευση":"Δημιουργία"]})]})]})})]})})}let T=e=>{if(!e)return"N/A";let t=e instanceof n.EK?e.toDate():e;return(0,R.WU)(t,"dd/MM/yyyy",{locale:_.el})};var E=a(49260),q=a(44976);async function D(e){if(!e)throw Error("Project ID is required");let t=await (0,n.QT)((0,n.JU)(i.db,"projects",e));if(!t.exists())throw Error("Project not found");return{id:t.id,...t.data()}}var S=a(29752),O=a(31540),M=a(13961),Z=a(88307),z=a(50384),V=a(33265),A=a(41156),L=a(38227);function F(){return r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)(A.iA,{children:[r.jsx(A.xD,{children:(0,r.jsxs)(A.SC,{children:[r.jsx(A.ss,{children:"Τίτλος"}),r.jsx(A.ss,{children:"Εταιρεία"}),r.jsx(A.ss,{children:"Τοποθεσία"}),r.jsx(A.ss,{children:"Πρόοδος Κατασκευής"}),r.jsx(A.ss,{className:"text-right",children:"Ενέργειες"})]})}),r.jsx(A.RM,{children:Array.from({length:5}).map((e,t)=>(0,r.jsxs)(A.SC,{className:"group",children:[r.jsx(A.pj,{children:r.jsx(L.O,{className:"h-4 w-32"})}),r.jsx(A.pj,{children:r.jsx(L.O,{className:"h-4 w-24"})}),r.jsx(A.pj,{children:r.jsx(L.O,{className:"h-4 w-28"})}),r.jsx(A.pj,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-1.5 w-40",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx(L.O,{className:"h-5 w-24 rounded-full"}),r.jsx(L.O,{className:"h-3 w-8"})]}),r.jsx(L.O,{className:"h-1.5 w-full rounded-full"})]})}),r.jsx(A.pj,{className:"text-right",children:r.jsx(L.O,{className:"h-8 w-20 ml-auto"})})]},t))})]})})}let J=(0,V.default)(async()=>{},{loadableGenerated:{modules:["components/projects/ProjectsPageView.tsx -> @/components/projects/ProjectTable"]},loading:()=>r.jsx(F,{}),ssr:!1});function G({filteredProjects:e,searchQuery:t,setSearchQuery:a,isLoading:s,isEditor:n,isDialogOpen:i,isSubmitting:d,editingProject:o,form:c,view:f,router:m,handleExport:x,handleDialogOpenChange:p,onSubmit:h,handleEditClick:b,handleDuplicateProject:g,handleDeleteProject:y,handlePrefetchProject:v}){let{companies:w,isLoading:C}=(0,u.JE)(),P=(0,l.useSearchParams)().get("view")||"index";return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Έργα"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(N.z,{onClick:x,variant:"outline",disabled:s||0===e.length,children:[r.jsx(O.Z,{className:"mr-2"}),"Εξαγωγή σε JSON"]}),n&&(0,r.jsxs)(N.z,{onClick:()=>p(!0),children:[r.jsx(M.Z,{className:"mr-2"}),"Νέο Έργο"]})]})]}),(0,r.jsxs)(z.mQ,{value:P,onValueChange:e=>{m.push(`/projects?view=${e}`)},children:[(0,r.jsxs)(z.dr,{className:"grid w-full grid-cols-2 md:w-1/3",children:[r.jsx(z.SP,{value:"index",children:"Ευρετήριο"}),r.jsx(z.SP,{value:"construction",children:"Κατασκευή"})]}),(0,r.jsxs)("div",{className:"relative mt-4",children:[r.jsx(Z.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(j.I,{type:"search",placeholder:"Αναζήτηση σε τίτλο, τοποθεσία, εταιρεία...",className:"pl-10 w-full md:w-1/3",value:t,onChange:e=>a(e.target.value)})]}),(0,r.jsxs)(S.Zb,{className:"mt-4",children:[r.jsx(S.Ol,{children:(0,r.jsxs)(S.ll,{children:["Λίστα Έργων (",e.length,")"]})}),r.jsx(S.aY,{children:s?r.jsx(F,{}):e.length>0?r.jsx(J,{projects:e,companies:w,isEditor:n,onEdit:b,onDuplicate:g,onDelete:y,onPrefetch:v}):r.jsx("p",{className:"text-center text-muted-foreground py-8",children:t?"Δεν βρέθηκαν έργα που να ταιριάζουν με την αναζήτηση.":"Δεν βρέθηκαν έργα."})})]})]}),n&&r.jsx(k,{open:i,onOpenChange:p,form:c,onSubmit:h,isSubmitting:d,isLoading:C,editingProject:o,companies:w})]})}function U(){let e=function(){let{projects:e,isLoading:t}=(0,u.Z0)(),{companies:a,isLoading:r}=(0,u.JE)(),{addProject:x}=(0,u.dI)(),{isEditor:p}=(0,E.a)(),h=(0,l.useRouter)(),j=(0,l.useSearchParams)().get("view")||"index",[b,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),{toast:C}=(0,c.pm)(),P=(0,d.cI)({resolver:(0,o.F)(I),defaultValues:{id:void 0,title:"",companyId:"",location:"",description:"",status:"Ενεργό",photoUrl:"",tags:""}}),{filteredProjects:R,searchQuery:_,setSearchQuery:k,getCompanyName:S}=function(e,t){let[a,r]=(0,s.useState)(""),l=(0,s.useCallback)(e=>t.find(t=>t.id===e)?.name||e,[t]);return{filteredProjects:(0,s.useMemo)(()=>e?[...e].sort((e,t)=>e.title.localeCompare(t.title)).filter(e=>{let t=a.toLowerCase(),r=l(e.companyId).toLowerCase();return e.title.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||r.includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t))}):[],[e,a,l]),searchQuery:a,setSearchQuery:r,getCompanyName:l}}(e,a),{handleDuplicateProject:O,handleDeleteProject:M,handleExport:Z,handlePrefetchProject:z}=function(e,t,a,r){let{toast:l}=(0,c.pm)(),d=(0,q.NL)(),o=(0,s.useCallback)(e=>{d.prefetchQuery({queryKey:["projectDetails",e],queryFn:()=>D(e),staleTime:3e5})},[d]);return{handleDuplicateProject:(0,s.useCallback)(async a=>{let r=e.find(e=>e.id===a);if(!r){l({variant:"destructive",title:"Σφάλμα",description:"Δεν βρέθηκε το έργο προς αντιγραφή."});return}try{let{id:e,createdAt:s,...i}=r;i.workStageSummary&&delete i.workStageSummary,i.title=`${i.title} (Copy)`;let d=await t({...i,tags:i.tags?.join(","),deadline:i.deadline instanceof n.EK?i.deadline.toDate():i.deadline});l({title:"Επιτυχία",description:`Το έργο '${r.title}' αντιγράφηκε.`}),d&&await (0,f.a)("DUPLICATE_PROJECT",{entityId:d,entityType:"project",sourceEntityId:a,name:i.title})}catch(e){console.error("Error duplicating project:",e),l({variant:"destructive",title:"Σφάλμα",description:"Η αντιγραφή απέτυχε."})}},[e,l,t]),handleDeleteProject:(0,s.useCallback)(async t=>{try{let a=e.find(e=>e.id===t);await (0,n.oe)((0,n.JU)(i.db,"projects",t)),l({title:"Επιτυχία",description:"Το έργο διαγράφηκε."}),a&&await (0,f.a)("DELETE_PROJECT",{entityId:t,entityType:"project",name:a.title})}catch(e){console.error("Error deleting project:",e),l({variant:"destructive",title:"Σφάλμα",description:"Δεν ήταν δυνατή η διαγραφή του έργου."})}},[e,l]),handleExport:(0,s.useCallback)(()=>{let e=r.map(e=>({...e,companyName:a(e.companyId),deadline:T(e.deadline),createdAt:T(e.createdAt)}));(0,m.Rk)(e,"projects")},[r,a]),handlePrefetchProject:o}}(e,x,S,R),V=(0,s.useCallback)(e=>{v(e),e||(P.reset(),g(null))},[P]),A=(0,s.useCallback)(e=>{g(e),P.reset({...e,tags:e.tags?.join(", ")||"",deadline:e.deadline instanceof n.EK?e.deadline.toDate():e.deadline}),v(!0)},[P]),L=(0,s.useCallback)(async e=>{w(!0);try{if(b){let t=(0,n.JU)(i.db,"projects",b.id),{id:a,...r}=e,s={...r,photoUrl:r.photoUrl?.trim()||void 0,tags:r.tags?r.tags.split(",").map(e=>e.trim()).filter(Boolean):[],deadline:n.EK.fromDate(r.deadline)};await (0,n.r7)(t,s),C({title:"Επιτυχία",description:"Το έργο ενημερώθηκε."}),await (0,f.a)("UPDATE_PROJECT",{entityId:b.id,entityType:"project",name:s.title,changes:s})}else{let t=await x(e);C({title:"Επιτυχία",description:"Το έργο προστέθηκε."}),t&&await (0,f.a)("CREATE_PROJECT",{entityId:t,entityType:"project",name:e.title})}V(!1)}catch(e){console.error("Error submitting project: ",e),C({variant:"destructive",title:"Σφάλμα",description:`Δεν ήταν δυνατή η υποβολή: ${e.message}`})}finally{w(!1)}},[b,C,x,V]);return{filteredProjects:R,searchQuery:_,setSearchQuery:k,isLoading:t||r,isEditor:p,isDialogOpen:y,isSubmitting:N,editingProject:b,form:P,view:j,router:h,handleExport:Z,handleDialogOpenChange:V,onSubmit:P.handleSubmit(L),handleEditClick:A,handleDuplicateProject:O,handleDeleteProject:M,handlePrefetchProject:z}}();return r.jsx(G,{...e})}},29752:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>i,SZ:()=>o,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>d});var r=a(10326),s=a(17577),l=a(51223);let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},9969:(e,t,a)=>{"use strict";a.d(t,{NI:()=>h,Wi:()=>u,l0:()=>o,lX:()=>p,pf:()=>j,xJ:()=>x,zG:()=>b});var r=a(10326),s=a(17577),l=a(34214),n=a(74723),i=a(51223),d=a(44794);let o=n.RV,c=s.createContext({}),u=({...e})=>r.jsx(c.Provider,{value:{name:e.name},children:r.jsx(n.Qr,{...e})}),f=()=>{let e=s.useContext(c),t=s.useContext(m),{getFieldState:a,formState:r}=(0,n.Gc)();if(!e)throw Error("useFormField should be used within <FormField>");let l=a(e.name,r),{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...l}},m=s.createContext({}),x=s.forwardRef(({className:e,...t},a)=>{let l=s.useId();return r.jsx(m.Provider,{value:{id:l},children:r.jsx("div",{ref:a,className:(0,i.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let p=s.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:l}=f();return r.jsx(d._,{ref:a,className:(0,i.cn)(s&&"text-destructive",e),htmlFor:l,...t})});p.displayName="FormLabel";let h=s.forwardRef(({...e},t)=>{let{error:a,formItemId:s,formDescriptionId:n,formMessageId:i}=f();return r.jsx(l.g7,{ref:t,id:s,"aria-describedby":a?`${n} ${i}`:`${n}`,"aria-invalid":!!a,...e})});h.displayName="FormControl";let j=s.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=f();return r.jsx("p",{ref:a,id:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})});j.displayName="FormDescription";let b=s.forwardRef(({className:e,children:t,...a},s)=>{let{error:l,formMessageId:n}=f(),d=l?String(l?.message??""):t;return d?r.jsx("p",{ref:s,id:n,className:(0,i.cn)("text-sm font-medium text-destructive",e),...a,children:d}):null});b.displayName="FormMessage"},44794:(e,t,a)=>{"use strict";a.d(t,{_:()=>o});var r=a(10326),s=a(17577),l=a(34478),n=a(79360),i=a(51223);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...t},a)=>r.jsx(l.f,{ref:a,className:(0,i.cn)(d(),e),...t}));o.displayName=l.f.displayName},29280:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>p,Ph:()=>c,Ql:()=>h,i4:()=>f,ki:()=>u});var r=a(10326),s=a(17577),l=a(44875),n=a(941),i=a(96633),d=a(32933),o=a(51223);let c=l.fC;l.ZA;let u=l.B4,f=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(l.xz,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,r.jsx(l.JO,{asChild:!0,children:r.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=l.xz.displayName;let m=s.forwardRef(({className:e,...t},a)=>r.jsx(l.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=l.u_.displayName;let x=s.forwardRef(({className:e,...t},a)=>r.jsx(l.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=l.$G.displayName;let p=s.forwardRef(({className:e,children:t,position:a="popper",...s},n)=>r.jsx(l.h_,{children:(0,r.jsxs)(l.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[r.jsx(m,{}),r.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(x,{})]})}));p.displayName=l.VY.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(l.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=l.__.displayName;let h=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(l.ck,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(l.wU,{children:r.jsx(d.Z,{className:"h-4 w-4"})})}),r.jsx(l.eT,{children:t})]}));h.displayName=l.ck.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(l.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=l.Z0.displayName},41156:(e,t,a)=>{"use strict";a.d(t,{RM:()=>d,SC:()=>o,iA:()=>n,pj:()=>u,ss:()=>c,xD:()=>i});var r=a(10326),s=a(17577),l=a(51223);let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>r.jsx("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=s.forwardRef(({className:e,...t},a)=>r.jsx("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>r.jsx("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},50384:(e,t,a)=>{"use strict";a.d(t,{SP:()=>o,dr:()=>d,mQ:()=>i,nU:()=>c});var r=a(10326),s=a(17577),l=a(28407),n=a(51223);let i=l.fC,d=s.forwardRef(({className:e,...t},a)=>r.jsx(l.aV,{ref:a,className:(0,n.cn)("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=l.aV.displayName;let o=s.forwardRef(({className:e,...t},a)=>r.jsx(l.xz,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm hover:bg-[#e46767]/10",e),...t}));o.displayName=l.xz.displayName;let c=s.forwardRef(({className:e,...t},a)=>r.jsx(l.VY,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=l.VY.displayName},82015:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var r=a(10326),s=a(17577),l=a(51223);let n=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));n.displayName="Textarea"},70323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=a(68570);let s=(0,r.createProxy)(String.raw`/home/user/studio/src/app/(main)/projects/page.tsx`),{__esModule:l,$$typeof:n}=s;s.default;let i=(0,r.createProxy)(String.raw`/home/user/studio/src/app/(main)/projects/page.tsx#default`)},28407:(e,t,a)=>{"use strict";a.d(t,{VY:()=>E,aV:()=>k,fC:()=>I,xz:()=>T});var r=a(17577),s=a(82561),l=a(93095),n=a(15594),i=a(9815),d=a(45226),o=a(17124),c=a(52067),u=a(88957),f=a(10326),m="Tabs",[x,p]=(0,l.b)(m,[n.Pc]),h=(0,n.Pc)(),[j,b]=x(m),g=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:s,defaultValue:l,orientation:n="horizontal",dir:i,activationMode:x="automatic",...p}=e,h=(0,o.gm)(i),[b,g]=(0,c.T)({prop:r,onChange:s,defaultProp:l??"",caller:m});return(0,f.jsx)(j,{scope:a,baseId:(0,u.M)(),value:b,onValueChange:g,orientation:n,dir:h,activationMode:x,children:(0,f.jsx)(d.WV.div,{dir:h,"data-orientation":n,...p,ref:t})})});g.displayName=m;var y="TabsList",v=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...s}=e,l=b(y,a),i=h(a);return(0,f.jsx)(n.fC,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:(0,f.jsx)(d.WV.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});v.displayName=y;var N="TabsTrigger",w=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:l=!1,...i}=e,o=b(N,a),c=h(a),u=R(o.baseId,r),m=_(o.baseId,r),x=r===o.value;return(0,f.jsx)(n.ck,{asChild:!0,...c,focusable:!l,active:x,children:(0,f.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...i,ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,s.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||l||!e||o.onValueChange(r)})})})});w.displayName=N;var C="TabsContent",P=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:l,children:n,...o}=e,c=b(C,a),u=R(c.baseId,s),m=_(c.baseId,s),x=s===c.value,p=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(i.z,{present:l||x,children:({present:a})=>(0,f.jsx)(d.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&n})})});function R(e,t){return`${e}-trigger-${t}`}function _(e,t){return`${e}-content-${t}`}P.displayName=C;var I=g,k=v,T=w,E=P}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9733,2401,7119,2880,8181,180,9902,7729,3241,8508],()=>a(58110));module.exports=r})();