# Οδηγός Εγκατάστασης & Τεκμηρίωσης για Developers

Αυτό το έγγραφο περιέχει όλες τις απαραίτητες πληροφορίες για την εγκατάσταση, ρύθμιση, και κατανόηση των βασικών λειτουργιών του project.

---

## Μέρος 1: Εγκατάσταση & Ενεργοποίηση Πίνακα Ελέγχου

Ακολουθήστε τα παρακάτω βήματα για να εγκαταστήσετε το project τοπικά, να το συνδέσετε με το Firebase και να ρυθμίσετε την αποστολή email ώστε ο Πίνακας Ελέγχου (Dashboard) να είναι πλήρως λειτουργικός.

### Βήμα 0: Πριν Ξεκινήσετε - Προαπαιτούμενα

⚡️ **Quick Pitstop:** Για να αποφύγετε προβλήματα με τις εξαρτήσεις, βεβαιωθείτε ότι έχετε εγκατεστημένη τη σωστή έκδοση του Node.js.
- **Node.js**: Έκδοση 18 ή νεότερη.
- **npm**: Θα εγκατασταθεί μαζί με το Node.js.

Ελέγξτε τις εκδόσεις σας με τις εντολές `node -v` και `npm -v` στο terminal σας.

### Βήμα 1: Εγκατάσταση Project

1.  Αποσυμπιέστε τα αρχεία του project σε έναν φάκελο.
2.  Ανοίξτε ένα terminal ή command prompt σε αυτόν τον φάκελο.
3.  Εκτελέστε την παρακάτω εντολή για να εγκαταστήσετε όλες τις απαραίτητες εξαρτήσεις:

    ```bash
    npm install
    ```

### Βήμα 2: Ρύθμιση Firebase Project

Η εφαρμογή απαιτεί σύνδεση με ένα project στο Firebase για την αποθήκευση και ανάγνωση δεδομένων.

1.  **Δημιουργία/Χρήση Firebase Project**:
    *   Πηγαίνετε στο [Firebase Console](https://console.firebase.google.com/).
    *   Δημιουργήστε ένα νέο project ή επιλέξτε ένα υπάρχον.

2.  **Δημιουργία Web App**:
    *   Μέσα στις ρυθμίσεις του project σας (`Project Settings` > `General`), δημιουργήστε μια νέα Web εφαρμογή (πατήστε το εικονίδιο `</>`) αν δεν υπάρχει ήδη.
    *   Καταχωρήστε την εφαρμογή και αντιγράψτε το αντικείμενο `firebaseConfig`. Θα το χρειαστείτε παρακάτω.
    *   ⚡️ **Quick Pitstop:** Βεβαιωθείτε ότι έχετε αντιγράψει *όλα* τα κλειδιά από το αντικείμενο `firebaseConfig`. Η παράλειψη κάποιου (π.χ., `storageBucket`) μπορεί να προκαλέσει "σιωπηλά" σφάλματα που δεν φαίνονται αμέσως.

3.  **Ενεργοποίηση Firestore**:
    *   Από το μενού αριστερά, πηγαίνετε στο **Build > Firestore Database**.
    *   Πατήστε "Create database".
    *   Επιλέξτε **Start in test mode**. Αυτό θα επιτρέψει την ανάγνωση και εγγραφή δεδομένων κατά την ανάπτυξη.
    *   Επιλέξτε μια τοποθεσία (location) για τους servers σας και πατήστε "Enable".
    *   ⚠️ **ΣΗΜΕΙΩΣΗ ΑΣΦΑΛΕΙΑΣ:** Το "test mode" επιτρέπει σε οποιονδήποτε να διαβάσει και να γράψει στη βάση σας. Πριν πάτε σε παραγωγικό περιβάλλον (production), πρέπει οπωσδήποτε να αλλάξετε τους κανόνες ασφαλείας (Security Rules) του Firestore.

### Βήμα 3: Ρύθμιση Google Cloud & OAuth για Αποστολή Email

Για την αποστολή email μέσω της εφαρμογής, απαιτούνται διαπιστευτήρια OAuth από το Google Cloud.

1. **Ενεργοποίηση Gmail API**:
   - Πηγαίνετε στο [Google Cloud Console](https://console.cloud.google.com/).
   - Βεβαιωθείτε ότι έχετε επιλέξει το ίδιο project που χρησιμοποιεί και το Firebase.
   - Πηγαίνετε στο **APIs & Services > Library**.
   - Αναζητήστε το **"Gmail API"** και ενεργοποιήστε το (Enable).
   - ⚡️ **Quick Pitstop:** Αν αυτό το API δεν ενεργοποιηθεί, θα λαμβάνετε σφάλμα `access_denied` ή παρόμοιο κατά την προσπάθεια σύνδεσης.

2. **Ρύθμιση OAuth Consent Screen**:
   - Πηγαίνετε στο **APIs & Services > OAuth consent screen**.
   - Επιλέξτε **External** και πατήστε "Create".
   - Συμπληρώστε τα απαραίτητα πεδία (όνομα εφαρμογής, email υποστήριξης, email επικοινωνίας).
   - Στο βήμα "Scopes", μην προσθέσετε κάτι. Θα ζητηθούν δυναμικά.
   - Στο βήμα "Test users", προσθέστε το email του Google λογαριασμού με τον οποίο θα συνδέεστε στην εφαρμογή.
   - ⚡️ **Quick Pitstop:** Αυτό το βήμα είναι κρίσιμο! Αν δεν προσθέσετε το email σας στους "Test users", η Google θα απορρίψει τη σύνδεσή σας.

3. **Δημιουργία OAuth 2.0 Client ID**:
   - Πηγαίνετε στο **APIs & Services > Credentials**.
   - Πατήστε **+ CREATE CREDENTIALS** και επιλέξτε **OAuth client ID**.
   - Επιλέξτε **Web application** για τύπο εφαρμογής.
   - ⚡️ **Quick Pitstop (Η πιο συχνή παγίδα!):** Τα **Authorized redirect URIs** πρέπει να ταιριάζουν *ακριβώς* με αυτό που περιμένει η εφαρμογή. Ένα `/` παραπάνω ή η έλλειψή του θα προκαλέσει σφάλμα `invalid_client` ή `redirect_uri_mismatch`.
     - Στα **Authorized JavaScript origins**, προσθέστε `http://localhost:9003`.
     - Στα **Authorized redirect URIs**, προσθέστε `http://localhost:9003/api/auth/callback/google`.
   - Πατήστε "Create". Θα εμφανιστούν τα **Your Client ID** και **Your Client Secret**. Αντιγράψτε τα.

### Βήμα 4: Δημιουργία Αρχείου Περιβάλλοντος (`***REMOVED***.local`)

1.  Στον κεντρικό φάκελο του project, θα βρείτε ένα αρχείο με όνομα `***REMOVED***.local`.
2.  Ανοίξτε το και συμπληρώστε τις τιμές που αντιγράψατε στα προηγούμενα βήματα.
    - ⚡️ **Quick Pitstop:** Μην αφήσετε τις τιμές-παραδείγματα (π.χ., "YOUR_GOOGLE_CLIENT_ID"). Αντικαταστήστε κάθε τιμή με τα δικά σας credentials.
    - ⚠️ **ΑΣΦΑΛΕΙΑ:** Ποτέ μην ανεβάζετε το αρχείο `***REMOVED***.local` σε δημόσιο repository (π.χ., GitHub). Βεβαιωθείτε ότι το αρχείο `.gitignore` περιέχει μια γραμμή `***REMOVED***.local`.

    ```env
    # Firebase Client-side SDK configuration - Αντιγράψτε ΟΛΕΣ τις τιμές από το firebaseConfig object
    NEXT_PUBLIC_FIREBASE_API_KEY="YOUR_API_KEY"
    NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN="YOUR_PROJECT_ID.firebaseapp.com"
    NEXT_PUBLIC_FIREBASE_PROJECT_ID="YOUR_PROJECT_ID"
    NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET="YOUR_STORAGE_BUCKET"
    NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID="YOUR_MESSAGING_SENDER_ID"
    NEXT_PUBLIC_FIREBASE_APP_ID="YOUR_APP_ID"
    NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID="YOUR_MEASUREMENT_ID"

    # Google OAuth Server-side configuration
    NEXT_PUBLIC_GOOGLE_CLIENT_ID="YOUR_GOOGLE_CLIENT_ID"       # Από το Βήμα 3.3
    NEXT_PUBLIC_GOOGLE_CLIENT_SECRET="YOUR_GOOGLE_CLIENT_SECRET" # Από το Βήμα 3.3
    NEXT_PUBLIC_GOOGLE_REDIRECT_URI="http://localhost:9003/api/auth/callback/google"
    ```

### Βήμα 5: Εκκίνηση Εφαρμογής & Εισαγωγή Δεδομένων

1.  **Εκκίνηση του Development Server**:
    *   ⚡️ **Quick Pitstop:** Κάθε φορά που αλλάζετε κάτι στο `***REMOVED***.local`, πρέπει να κάνετε επανεκκίνηση του server για να εφαρμοστούν οι αλλαγές.
    *   Στο terminal, εκτελέστε την παρακάτω εντολή:
      ```bash
      npm run dev
      ```
    *   Ανοίξτε έναν browser και πηγαίνετε στη διεύθυνση `http://localhost:9003`.

2.  **Σύνδεση & Εισαγωγή Δεδομένων**:
    *   Συνδεθείτε με τον Google λογαριασμό που ορίσατε ως "test user".
    *   Πατήστε το κουμπί **"Εισαγωγή Δεδομένων"** που βρίσκεται πάνω δεξιά.
    *   Περιμένετε μερικά δευτερόλεπτα. Θα εμφανιστεί μια ειδοποίηση επιτυχίας.

Πλέον, ο Πίνακας Ελέγχου είναι πλήρως λειτουργικός και συγχρονισμένος με τη βάση δεδομένων σας.

### Συνήθη Προβλήματα & Λύσεις (FAQ)

**Q: Παίρνω σφάλμα `invalid_client` ή `redirect_uri_mismatch` κατά τη σύνδεση.**
- **A:** Το 99% των περιπτώσεων, το πρόβλημα είναι στα **Authorized redirect URIs** (Βήμα 3.3). Ελέγξτε ότι το URI είναι *ακριβώς* `http://localhost:9003/api/auth/callback/google` χωρίς επιπλέον κενά ή καθέτους.

**Q: Η σύνδεση πετυχαίνει, αλλά η αποστολή email αποτυγχάνει με σφάλμα "Token has been expired or revoked".**
- **A:** Αυτό συμβαίνει όταν το Refresh Token της Google έχει ανακληθεί. Πηγαίνετε στις [Ρυθμίσεις Ασφαλείας του Google Λογαριασμού σας](https://myaccount.google.com/permissions) και αφαιρέστε την πρόσβαση από την εφαρμογή σας. Στη συνέχεια, συνδεθείτε ξανά στην εφαρμογή για να εκδοθεί νέο token.

---

## Μέρος 2: Τεκμηρίωση Προσαρμοσμένων Λιστών & Καταλόγων

Αυτό το έγγραφο εξηγεί τη δομή και τη λειτουργία του συστήματος διαχείρισης προσαρμοσμένων λιστών και σύνθετων οντοτήτων της εφαρμογής.

### 2.1. Επισκόπηση

Το σύστημα επιτρέπει τη δυναμική δημιουργία και διαχείριση δύο τύπων δεδομένων:
1.  **Απλές Λίστες (Simple Lists):** Χρησιμοποιούνται για τη δημιουργία αναπτυσσόμενων μενού (dropdowns) σε όλη την εφαρμογή, όπως λίστες με "Ρόλους", "Ειδικότητες", "Κατηγορίες Παρεμβάσεων" κ.λπ.
2.  **Σύνθετες Οντότητες (Complex Entities):** Χρησιμοποιούνται για τη δημιουργία καταλόγων με πιο δομημένα δεδομένα, όπως ένας κατάλογος με "Αστυνομικά Τμήματα" που περιλαμβάνει διεύθυνση, τηλέφωνο κ.λπ.

Η διαχείριση γίνεται από τη σελίδα `/custom-lists`.

### 2.2. Δομή Δεδομένων στο Firestore

Τα δεδομένα αποθηκεύονται σε δύο διαφορετικές συλλογές (collections) στο Firestore.

#### 2.2.1 Απλές Λίστες

Οι απλές λίστες αποθηκεύονται στη συλλογή `tsia-custom-lists`.

##### Δομή Εγγράφου Λίστας (List Document)

Κάθε έγγραφο σε αυτή τη συλλογή αντιπροσωπεύει μια λίστα.

*   **Collection:** `tsia-custom-lists`
*   **Document ID:** (Αυτόματο ID από το Firestore)

**Πεδία:**
| Πεδίο | Τύπος | Περιγραφή |
| :--- | :--- | :--- |
| `title` | `string`| Ο τίτλος της λίστας που εμφανίζεται στο UI (π.χ., "Ρόλοι"). |
| `description` | `string`| (Προαιρετικό) Μια σύντομη περιγραφή για το σκοπό της λίστας. |
| `hasCode` | `boolean`| (Προαιρετικό) Αν είναι `true`, κάθε στοιχείο της λίστας μπορεί να έχει και έναν κωδικό εκτός από την τιμή του. |
| `isProtected`| `boolean`| (Προαιρετικό) Αν είναι `true`, η λίστα δεν μπορεί να διαγραφεί από το UI (χρήσιμο για βασικές λίστες του συστήματος). |
| `createdAt` | `Timestamp`| Ημερομηνία δημιουργίας. |

##### Δομή Στοιχείου Λίστας (List Item)

Κάθε λίστα περιέχει μια υπο-συλλογή (subcollection) με όνομα `tsia-items` που περιέχει τα στοιχεία της.

*   **Subcollection:** `tsia-custom-lists/{listId}/tsia-items`
*   **Document ID:** (Αυτόματο ID από το Firestore)

**Πεδία:**
| Πεδίο | Τύπος | Περιγραφή |
| :--- | :--- | :--- |
| `value` | `string`| Η κύρια τιμή/ετικέτα του στοιχείου (π.χ., "Πελάτης"). |
| `code` | `string`| (Προαιρετικό) Ένας μοναδικός κωδικός για το στοιχείο (π.χ., "3.Α"). Χρησιμοποιείται μόνο αν το `hasCode` της λίστας είναι `true`.|
| `createdAt`| `Timestamp`| Ημερομηνία δημιουργίας. |

**Παράδειγμα (ΔΟΥ):**
Μια λίστα "Δημόσιες Οικονομικές Υπηρεσίες" με `hasCode: true`.
Ένα στοιχείο σε αυτή τη λίστα θα ήταν:
- `code`: "1118"
- `value`: "ΔΟΥ ΚΑΛΑΜΑΡΙΑΣ"

#### 2.2.2 Σύνθετες Οντότητες

Οι σύνθετες οντότητες αποθηκεύονται στην κορυφαίου επιπέδου συλλογή `tsia-complex-entities`.

##### Δομή Εγγράφου Οντότητας (Entity Document)

*   **Collection:** `tsia-complex-entities`
*   **Document ID:** (Αυτόματο ID από το Firestore)

**Πεδία:**
| Πεδίο | Τύπος | Περιγραφή |
| :--- | :--- | :--- |
| `type` | `string`| Ο τύπος της οντότητας. Χρησιμοποιείται για την ομαδοποίηση (π.χ., "policeStation"). |
| `name` | `string`| Το κύριο όνομα της οντότητας (π.χ., "Α.Τ. Κορδελιού-Ευόσμου"). |
| `address` | `string`| (Προαιρετικό) Η διεύθυνση. |
| `phone` | `string`| (Προαιρετικό) Το τηλέφωνο. |
| `region` | `string`| (Προαιρετικό) Ο νομός/περιοχή. |
| `email` | `string`| (Προαιρετικό) Το email. |
| `website` | `string`| (Προαιρετικό) Η ιστοσελίδα. |
| `notes` | `string`| (Προαιρετικό) Ελεύθερες σημειώσεις. |
| `createdAt`| `Timestamp`| Ημερομηνία δημιουργίας. |

### 2.3. Λειτουργία στον Κώδικα (CRUD)

Η κύρια λογική βρίσκεται στον φάκελο `src/features/custom-lists`.

#### Hooks

-   **`useCustomLists.ts`**: Διαχειρίζεται τις απλές λίστες. Παρέχει listeners (onSnapshot) στο Firestore και φέρνει όλες τις λίστες και τα στοιχεία τους σε πραγματικό χρόνο. Παρέχει επίσης τις συναρτήσεις `createList`, `updateList`, `deleteList`, `addItem`, `updateItem`, και `deleteItem` για την εκτέλεση όλων των CRUD λειτουργιών.
-   **`useComplexEntities.ts`**: Διαχειρίζεται τις σύνθετες οντότητες. Παρέχει CRUD λειτουργίες για αυτές τις οντότητες, φιλτραρισμένες ανά `type`.

#### Components

-   **`SimpleListsTab.tsx`**: Το κύριο component για την καρτέλα "Απλές Λίστες". Χρησιμοποιεί το `useCustomLists` και συνθέτει τα υπόλοιπα components για την εμφάνιση και διαχείριση.
-   **`ComplexEntitiesTab.tsx`**: Το κύριο component για την καρτέλα "Σύνθετες Οντότητες". Χρησιμοποιεί το `useComplexEntities`.
-   **`EditableList.tsx`**: Ένα επαναχρησιμοποιήσιμο component τύπου "accordion" που εμφανίζει μια λίστα και τα στοιχεία της, επιτρέποντας την προσθήκη, επεξεργασία και διαγραφή.
-   **`ListItem.tsx`**: Το component που αναλαμβάνει την εμφάνιση και την "in-line" επεξεργασία κάθε μεμονωμένου στοιχείου της λίστας.

### 2.4. Μαζική Προσθήκη Στοιχείων (Bulk Add)

Το πεδίο εισαγωγής (`Textarea`) σε κάθε λίστα υποστηρίζει μαζική προσθήκη στοιχείων για ταχύτητα και ευκολία. Η λογική προσαρμόζεται ανάλογα με το αν η λίστα έχει κωδικούς (`hasCode: true`) ή όχι.

#### 2.4.1 Λίστες ΧΩΡΙΣ Κωδικό

Για απλές λίστες, ο χρήστης μπορεί να εισάγει πολλαπλά στοιχεία ταυτόχρονα, διαχωρίζοντάς τα με έναν από τους παρακάτω χαρακτήρες:
-   Ερωτηματικό (`;`)
-   Αλλαγή γραμμής (Enter)
-   Tab

**Παράδειγμα:**
Ο χρήστης μπορεί να επικολλήσει το παρακάτω κείμενο στο πεδίο:
`Υδραυλικός;Ηλεκτρολόγος	Ελαιοχρωματιστής`
`Τεχνίτης Μόνωσης`

Το σύστημα θα δημιουργήσει αυτόματα τέσσερις ξεχωριστές εγγραφές: "Υδραυλικός", "Ηλεκτρολόγος", "Ελαιοχρωματιστής" και "Τεχνίτης Μόνωσης".
Ο κώδικας αφαιρεί αυτόματα τα κενά στην αρχή και το τέλος κάθε στοιχείου και αποτρέπει τη δημιουργία διπλότυπων (case-insensitive).

#### 2.4.2 Λίστες ΜΕ Κωδικό (`hasCode: true`)

Για τις λίστες που απαιτούν κωδικό, η μαζική εισαγωγή γίνεται με τη μορφή:
`ΚΩΔΙΚΟΣ [κενό] ΟΝΟΜΑ`

Κάθε ζεύγος κωδικού-ονόματος πρέπει να βρίσκεται σε **ξεχωριστή γραμμή**. Το σύστημα χρησιμοποιεί το **πρώτο κενό** ως διαχωριστικό μεταξύ του κωδικού και της τιμής.

**Παράδειγμα:**
Για να προσθέσει μαζικά Δ.Ο.Υ., ο χρήστης μπορεί να επικολλήσει το παρακάτω, συνήθως από ένα αρχείο Excel:
```
1118 ΔΟΥ ΚΑΛΑΜΑΡΙΑΣ
1119 ΔΟΥ ΑΜΠΕΛΟΚΗΠΩΝ ΘΕΣ/ΝΙΚΗΣ
1120 ΔΟΥ Α' ΘΕΣΣΑΛΟΝΙΚΗΣ
```
Το σύστημα θα δημιουργήσει τρεις εγγραφές, συνδέοντας σωστά τον κωδικό με την τιμή του. Η λογική αποτρέπει τη δημιουργία διπλότυπων με βάση τον κωδικό.

### 2.5. Επεξεργασία & Διαγραφή Στοιχείων

Η διαχείριση των μεμονωμένων στοιχείων μέσα σε μια λίστα είναι σχεδιασμένη για ευκολία και ασφάλεια.

#### 2.5.1 Επεξεργασία (In-line Editing)

- **Αλληλεπίδραση:** Όταν ο χρήστης περνάει το ποντίκι πάνω από ένα στοιχείο, εμφανίζονται τα εικονίδια της επεξεργασίας (μολύβι) και της διαγραφής (κάδος).
- **Διαδικασία:** Πατώντας το μολύβι, το κείμενο του στοιχείου μετατρέπεται σε πεδίο εισαγωγής (`<Input>`). Ο χρήστης μπορεί να αλλάξει την τιμή (και τον κωδικό, αν υπάρχει) απευθείας.
- **Αποθήκευση:** Η αλλαγή αποθηκεύεται αυτόματα όταν ο χρήστης πατήσει `Enter` ή όταν κάνει κλικ εκτός του πεδίου (on blur). Η ενέργεια μπορεί να ακυρωθεί πατώντας `Escape`.
- **Υλοποίηση:** Αυτή η λειτουργία ελέγχεται από το component `src/features/custom-lists/components/ListItem.tsx`, το οποίο καλεί τη συνάρτηση `updateItem` του hook `useCustomLists`.

#### 2.5.2 Διαγραφή και Έλεγχος Εξαρτήσεων

Για την προστασία της ακεραιότητας των δεδομένων, η εφαρμογή αποτρέπει τη διαγραφή στοιχείων που χρησιμοποιούνται.

- **Διαδικασία:** Όταν ο χρήστης πατάει το εικονίδιο του κάδου, καλείται η συνάρτηση `deleteItem` από το hook `useCustomLists`.
- **Έλεγχος Εξάρτησης (Dependency Check):** Πριν διαγράψει το στοιχείο από το Firestore, η συνάρτηση εκτελεί έναν κρίσιμο έλεγχο:
  1.  Αναγνωρίζει σε ποιο πεδίο των επαφών αντιστοιχεί η λίστα (π.χ., η λίστα "Ρόλοι" αντιστοιχεί στο πεδίο `job.role` των επαφών).
  2.  Εκτελεί ένα query στη συλλογή `tsia-contacts` για να δει αν **έστω και μία επαφή** χρησιμοποιεί την τιμή που πάει να διαγραφεί.
- **Αποτέλεσμα:**
  -   **Αν ΔΕΝ βρεθεί εξάρτηση:** Το στοιχείο διαγράφεται κανονικά από το Firestore.
  -   **Αν βρεθεί έστω και μία εξάρτηση:** Η διαγραφή **ακυρώνεται** και εμφανίζεται ένα μήνυμα σφάλματος (toast) που ενημερώνει τον χρήστη για το ποια επαφή χρησιμοποιεί το συγκεκριμένο στοιχείο.

### 2.6. Εξαγωγή Δεδομένων

Η εφαρμογή υποστηρίζει την εξαγωγή των δεδομένων από τις λίστες σε μορφή CSV (για Excel) και απλού κειμένου (TXT).

- **Υλοποίηση:** Τα κουμπιά εξαγωγής βρίσκονται στα components `SimpleListsTab.tsx` και `ComplexEntitiesTab.tsx`.
- **Λογική:** Όταν ο χρήστης πατάει ένα κουμπί εξαγωγής:
  1.  Τα δεδομένα από τις ορατές (φιλτραρισμένες) λίστες συγκεντρώνονται.
  2.  Καλούνται οι βοηθητικές συναρτήσεις `exportToCsv` ή `exportToTxt` από το αρχείο `src/lib/exportUtils.ts`.
  3.  **Για CSV:** Τα δεδομένα μετατρέπονται σε ένα string, με κάθε πεδίο να διαχωρίζεται με ερωτηματικό (`;`) για σωστή απεικόνιση στο ελληνικό Excel.
  4.  **Για TXT:** Τα δεδομένα μορφοποιούνται σε μια ευανάγνωστη δομή κειμένου.
  5.  Ο κώδικας δημιουργεί ένα `Blob` (ένα αντικείμενο τύπου αρχείου) και στη συνέχεια προσομοιώνει ένα κλικ σε έναν κρυφό σύνδεσμο (`<a>`) για να ξεκινήσει το κατέβασμα του αρχείου στον browser του χρήστη.

---

## Μέρος 3: Design System & Styling

Η εμφάνιση της εφαρμογής βασίζεται σε ένα συνεκτικό σύστημα για συνέπεια και ευκολία στη συντήρηση.

### 3.1. Βασικές Τεχνολογίες

- **Tailwind CSS:** Χρησιμοποιείται για το μεγαλύτερο μέρος του styling μέσω utility classes.
- **ShadCN UI:** Τα βασικά components (Buttons, Cards, Inputs, κλπ) προέρχονται από τη βιβλιοθήκη ShadCN, η οποία είναι χτισμένη πάνω στο Radix UI και το Tailwind CSS. Τα components βρίσκονται στο `src/components/ui`.

### 3.2. Χρωματική Παλέτα & Theming

Η "πηγή της αλήθειας" για όλα τα χρώματα της εφαρμογής είναι το αρχείο:
`src/app/globals.css`

- **Μεταβλητές CSS:** Όλα τα χρώματα ορίζονται ως μεταβλητές CSS κάτω από το `:root` (για το light theme) και το `.dark` (για το dark theme). Αυτό επιτρέπει τη δυναμική αλλαγή θέματος.
- **Μορφή HSL:** Τα χρώματα ορίζονται με τη μορφή HSL (Hue, Saturation, Lightness), π.χ., `--primary: 0 84% 60%`. Αυτή η προσέγγιση κάνει την παραλλαγή των χρωμάτων (π.χ., δημιουργία πιο σκούρων ή ανοιχτών αποχρώσεων) πολύ πιο εύκολη.
- **Σημασιολογικά Ονόματα:** Οι μεταβλητές έχουν σημασιολογικά ονόματα (`--background`, `--foreground`, `--primary`, `--destructive`) αντί για ονόματα χρωμάτων (`--blue`, `--red`). Αυτό σημαίνει ότι ο κώδικας των components (π.χ., `bg-primary`) παραμένει ο ίδιος ανεξάρτητα από το αν το `--primary` είναι πορτοκαλί ή μπλε, κάνοντας το theming πολύ πιο ευέλικτο.

**Παράδειγμα από το `globals.css` (Dark Mode):**

```css
.dark {
    /* Βασικά Χρώματα */
    --background: 215 28% 17%; /* Dark Slate Blue */
    --foreground: 60 30% 96%;   /* Light Gray */

    /* Κύριο Χρώμα Έμφασης */
    --primary: 0 84% 60%;       /* Muted Orange */
    --primary-foreground: 210 40% 98%;

    /* Φόντο Κάρτας */
    --card: 215 28% 21%;        /* Ελαφρώς πιο ανοιχτό από το background */
    
    /* ... και ούτω καθεξής ... */
}
```

### 3.3. Τυπογραφία & Γενικό Styling

- **Γραμματοσειρές:** Η βασική γραμματοσειρά είναι η **Inter**, η οποία φορτώνεται από το Google Fonts στο `src/app/layout.tsx`.
- **Μεγέθη & Αποστάσεις:** Τα μεγέθη γραμματοσειρών, οι αποστάσεις (padding, margin) και η γενική διάταξη ελέγχονται σχεδόν αποκλειστικά από τις utility classes του Tailwind CSS. Για παράδειγμα, `text-lg`, `font-semibold`, `p-4`, `m-2`, `flex`, `grid`.
- **Radius:** Η ακτίνα των γωνιών (border-radius) ελέγχεται από τη μεταβλητή `--radius` στο `globals.css` για ομοιομορφία.

Όταν προσθέτετε ή τροποποιείτε components, η προτιμώμενη προσέγγιση είναι να χρησιμοποιείτε τις υπάρχουσες μεταβλητές CSS και τις κλάσεις του Tailwind για να διατηρήσετε τη συνέπεια στο design.
